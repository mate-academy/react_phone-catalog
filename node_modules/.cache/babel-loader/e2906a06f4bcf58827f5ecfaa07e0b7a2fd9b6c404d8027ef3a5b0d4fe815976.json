{"ast":null,"code":"import _objectSpread from\"C:/Users/Admin/Desktop/projects/react-phone-catalog/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Routes,Route}from'react-router-dom';import{useEffect,useState}from'react';import Header from'./components/Header';import Home from'./pages/Home';import Catalog from'./pages/Catalog';import Cart from'./pages/Cart';import Favorites from'./pages/Favorites';import ProductDetails from'./pages/ProductDetails';import NotFoundPage from'./pages/NotFoundPage';import{getPhones,getTablets,getAccessories}from'./api/productsApi';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[products,setProducts]=useState([]);const[cart,setCart]=useState(()=>{const saved=localStorage.getItem('cart');return saved?JSON.parse(saved):[];});const[favorites,setFavorites]=useState(()=>{const saved=localStorage.getItem('favorites');return saved?JSON.parse(saved):[];});/* ================= LOAD PRODUCTS ================= */useEffect(()=>{Promise.all([getPhones(),getTablets(),getAccessories()]).then(_ref=>{let[phones,tablets,accessories]=_ref;setProducts([...phones,...tablets,...accessories]);});},[]);/* ================= PERSIST CART & FAVORITES ================= */useEffect(()=>{localStorage.setItem('cart',JSON.stringify(cart));},[cart]);useEffect(()=>{localStorage.setItem('favorites',JSON.stringify(favorites));},[favorites]);const addToCart=product=>{setCart(prev=>{const existing=prev.find(item=>item.configId===product.configId);if(existing){return prev.map(item=>item.configId===product.configId?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1}):item);}return[...prev,_objectSpread(_objectSpread({},product),{},{quantity:1})];});};const removeFromCart=configId=>{setCart(prev=>prev.filter(item=>item.configId!==configId));};const addToFavorites=product=>{setFavorites(prev=>{if(prev.some(item=>item.configId===product.configId)){return prev;}return[...prev,product];});};const removeFromFavorites=identifier=>{setFavorites(prev=>prev.filter(item=>(item.configId||item.id)!==identifier));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/phones\",element:/*#__PURE__*/_jsx(Catalog,{products:products.filter(p=>p.category==='phones'),cart:cart,favorites:favorites,addToCart:addToCart,addToFavorites:addToFavorites})}),/*#__PURE__*/_jsx(Route,{path:\"/tablets\",element:/*#__PURE__*/_jsx(Catalog,{products:products.filter(p=>p.category==='tablets'),cart:cart,favorites:favorites,addToCart:addToCart,addToFavorites:addToFavorites})}),/*#__PURE__*/_jsx(Route,{path:\"/accessories\",element:/*#__PURE__*/_jsx(Catalog,{products:products.filter(p=>p.category==='accessories'),cart:cart,favorites:favorites,addToCart:addToCart,addToFavorites:addToFavorites})}),/*#__PURE__*/_jsx(Route,{path:\"/:category/:productId\",element:/*#__PURE__*/_jsx(ProductDetails,{cart:cart,favorites:favorites,addToCart:addToCart,addToFavorites:addToFavorites})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{cart:cart,removeFromCart:removeFromCart})}),/*#__PURE__*/_jsx(Route,{path:\"/favorites\",element:/*#__PURE__*/_jsx(Favorites,{favorites:favorites,removeFromFavorites:removeFromFavorites})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFoundPage,{})})]})]});}export default App;","map":{"version":3,"names":["Routes","Route","useEffect","useState","Header","Home","Catalog","Cart","Favorites","ProductDetails","NotFoundPage","getPhones","getTablets","getAccessories","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","products","setProducts","cart","setCart","saved","localStorage","getItem","JSON","parse","favorites","setFavorites","Promise","all","then","_ref","phones","tablets","accessories","setItem","stringify","addToCart","product","prev","existing","find","item","configId","map","_objectSpread","quantity","removeFromCart","filter","addToFavorites","some","removeFromFavorites","identifier","id","children","path","element","p","category"],"sources":["C:/Users/Admin/Desktop/projects/react-phone-catalog/src/App.js"],"sourcesContent":["import { Routes, Route } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport Header from './components/Header';\r\n\r\nimport Home from './pages/Home';\r\nimport Catalog from './pages/Catalog';\r\nimport Cart from './pages/Cart';\r\nimport Favorites from './pages/Favorites';\r\nimport ProductDetails from './pages/ProductDetails';\r\nimport NotFoundPage from './pages/NotFoundPage';\r\n\r\nimport {\r\ngetPhones,\r\ngetTablets,\r\ngetAccessories,\r\n} from './api/productsApi';\r\n\r\nfunction App() {\r\nconst [products, setProducts] = useState([]);\r\nconst [cart, setCart] = useState(() => {\r\nconst saved = localStorage.getItem('cart');\r\nreturn saved ? JSON.parse(saved) : [];\r\n});\r\nconst [favorites, setFavorites] = useState(() => {\r\nconst saved = localStorage.getItem('favorites');\r\nreturn saved ? JSON.parse(saved) : [];\r\n});\r\n\r\n/* ================= LOAD PRODUCTS ================= */\r\nuseEffect(() => {\r\nPromise.all([\r\ngetPhones(),\r\ngetTablets(),\r\ngetAccessories(),\r\n]).then(([phones, tablets, accessories]) => {\r\nsetProducts([\r\n...phones,\r\n...tablets,\r\n...accessories,\r\n]);\r\n});\r\n}, []);\r\n\r\n/* ================= PERSIST CART & FAVORITES ================= */\r\nuseEffect(() => {\r\nlocalStorage.setItem('cart', JSON.stringify(cart));\r\n}, [cart]);\r\n\r\nuseEffect(() => {\r\nlocalStorage.setItem('favorites', JSON.stringify(favorites));\r\n}, [favorites]);\r\n\r\n\r\nconst addToCart = (product) => {\r\nsetCart(prev => {\r\nconst existing = prev.find(\r\nitem => item.configId === product.configId\r\n);\r\n\r\nif (existing) {\r\nreturn prev.map(item =>\r\nitem.configId === product.configId\r\n? { ...item, quantity: item.quantity + 1 }\r\n: item\r\n);\r\n}\r\n\r\nreturn [...prev, { ...product, quantity: 1 }];\r\n});\r\n};\r\n\r\nconst removeFromCart = (configId) => {\r\nsetCart(prev =>\r\nprev.filter(item => item.configId !== configId)\r\n);\r\n};\r\n\r\n\r\nconst addToFavorites = (product) => {\r\nsetFavorites(prev => {\r\nif (prev.some(item => item.configId === product.configId)) {\r\nreturn prev;\r\n}\r\nreturn [...prev, product];\r\n});\r\n};\r\n\r\nconst removeFromFavorites = (identifier) => {\r\nsetFavorites(prev =>\r\nprev.filter(item => (item.configId || item.id) !== identifier)\r\n);\r\n};\r\n\r\nreturn (\r\n<>\r\n<Header />\r\n\r\n<Routes>\r\n<Route path=\"/\" element={<Home />} />\r\n\r\n<Route\r\npath=\"/phones\"\r\nelement={\r\n<Catalog\r\nproducts={products.filter(p => p.category === 'phones')}\r\ncart={cart}\r\nfavorites={favorites}\r\naddToCart={addToCart}\r\naddToFavorites={addToFavorites}\r\n/>\r\n}\r\n/>\r\n\r\n<Route\r\npath=\"/tablets\"\r\nelement={\r\n<Catalog\r\nproducts={products.filter(p => p.category === 'tablets')}\r\ncart={cart}\r\nfavorites={favorites}\r\naddToCart={addToCart}\r\naddToFavorites={addToFavorites}\r\n/>\r\n}\r\n/>\r\n\r\n<Route\r\npath=\"/accessories\"\r\nelement={\r\n<Catalog\r\nproducts={products.filter(p => p.category === 'accessories')}\r\ncart={cart}\r\nfavorites={favorites}\r\naddToCart={addToCart}\r\naddToFavorites={addToFavorites}\r\n/>\r\n}\r\n/>\r\n\r\n<Route\r\npath=\"/:category/:productId\"\r\nelement={\r\n<ProductDetails\r\ncart={cart}\r\nfavorites={favorites}\r\naddToCart={addToCart}\r\naddToFavorites={addToFavorites}\r\n/>\r\n}\r\n/>\r\n\r\n<Route\r\npath=\"/cart\"\r\nelement={\r\n<Cart\r\ncart={cart}\r\nremoveFromCart={removeFromCart}\r\n/>\r\n}\r\n/>\r\n\r\n<Route\r\npath=\"/favorites\"\r\nelement={\r\n<Favorites\r\nfavorites={favorites}\r\nremoveFromFavorites={removeFromFavorites}\r\n/>\r\n}\r\n/>\r\n\r\n<Route path=\"*\" element={<NotFoundPage />} />\r\n</Routes>\r\n</>\r\n);\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}