{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\projects\\\\react-phone-catalog\\\\src\\\\pages\\\\Catalog.js\",\n  _s = $RefreshSig$();\nimport { useSearchParams } from 'react-router-dom';\nimport { useMemo, useState, useEffect } from 'react';\nimport ProductCard from '../components/ProductCard';\nimport './Catalog.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SORT_OPTIONS = {\n  age: 'Newest',\n  title: 'Alphabetically',\n  price: 'Cheapest'\n};\nconst PER_PAGE_OPTIONS = [4, 8, 16, 'all'];\nfunction Catalog({\n  products,\n  cart,\n  favorites,\n  addToCart,\n  addToFavorites\n}) {\n  _s();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [loading, setLoading] = useState(true);\n  const sort = searchParams.get('sort') || 'age';\n  const page = Number(searchParams.get('page') || 1);\n  const perPage = searchParams.get('perPage') || 'all';\n  useEffect(() => {\n    const timer = setTimeout(() => setLoading(false), 300);\n    return () => clearTimeout(timer);\n  }, [products]);\n  const sortedProducts = useMemo(() => {\n    const prepared = [...products];\n    switch (sort) {\n      case 'title':\n        return prepared.sort((a, b) => a.name.localeCompare(b.name));\n      case 'price':\n        return prepared.sort((a, b) => a.priceDiscount - b.priceDiscount);\n      default:\n        return prepared.sort((a, b) => b.year - a.year);\n    }\n  }, [products, sort]);\n  const visibleProducts = useMemo(() => {\n    if (perPage === 'all') return sortedProducts;\n    const start = (page - 1) * perPage;\n    return sortedProducts.slice(start, start + Number(perPage));\n  }, [sortedProducts, page, perPage]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-loader\",\n    children: \"Loading\\u2026\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"catalog\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"catalog__title\",\n      children: \"Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"catalog__controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"catalog__select\",\n        children: [\"Sort: \", SORT_OPTIONS[sort]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"catalog__select\",\n        children: [\"Items: \", perPage]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"catalog__grid\",\n      children: visibleProducts.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n        product: product,\n        cart: cart,\n        favorites: favorites,\n        addToCart: addToCart,\n        addToFavorites: addToFavorites\n      }, product.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(Catalog, \"13ZMBPMSPFMQzNLfW+jQy6O0U+Q=\", false, function () {\n  return [useSearchParams];\n});\n_c = Catalog;\nexport default Catalog;\nvar _c;\n$RefreshReg$(_c, \"Catalog\");","map":{"version":3,"names":["useSearchParams","useMemo","useState","useEffect","ProductCard","jsxDEV","_jsxDEV","SORT_OPTIONS","age","title","price","PER_PAGE_OPTIONS","Catalog","products","cart","favorites","addToCart","addToFavorites","_s","searchParams","setSearchParams","loading","setLoading","sort","get","page","Number","perPage","timer","setTimeout","clearTimeout","sortedProducts","prepared","a","b","name","localeCompare","priceDiscount","year","visibleProducts","start","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","product","id","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/projects/react-phone-catalog/src/pages/Catalog.js"],"sourcesContent":["import { useSearchParams } from 'react-router-dom';\r\nimport { useMemo, useState, useEffect } from 'react';\r\nimport ProductCard from '../components/ProductCard';\r\nimport './Catalog.css';\r\n\r\nconst SORT_OPTIONS = {\r\n  age: 'Newest',\r\n  title: 'Alphabetically',\r\n  price: 'Cheapest',\r\n};\r\n\r\nconst PER_PAGE_OPTIONS = [4, 8, 16, 'all'];\r\n\r\nfunction Catalog({\r\n  products,\r\n  cart,\r\n  favorites,\r\n  addToCart,\r\n  addToFavorites,\r\n}) {\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const sort = searchParams.get('sort') || 'age';\r\n  const page = Number(searchParams.get('page') || 1);\r\n  const perPage = searchParams.get('perPage') || 'all';\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => setLoading(false), 300);\r\n    return () => clearTimeout(timer);\r\n  }, [products]);\r\n\r\n  const sortedProducts = useMemo(() => {\r\n    const prepared = [...products];\r\n\r\n    switch (sort) {\r\n      case 'title':\r\n        return prepared.sort((a, b) => a.name.localeCompare(b.name));\r\n      case 'price':\r\n        return prepared.sort((a, b) => a.priceDiscount - b.priceDiscount);\r\n      default:\r\n        return prepared.sort((a, b) => b.year - a.year);\r\n    }\r\n  }, [products, sort]);\r\n\r\n  const visibleProducts = useMemo(() => {\r\n    if (perPage === 'all') return sortedProducts;\r\n    const start = (page - 1) * perPage;\r\n    return sortedProducts.slice(start, start + Number(perPage));\r\n  }, [sortedProducts, page, perPage]);\r\n\r\n  if (loading) return <div className=\"page-loader\">Loadingâ€¦</div>;\r\n\r\n  return (\r\n    <section className=\"catalog\">\r\n      <h1 className=\"catalog__title\">Products</h1>\r\n\r\n      <div className=\"catalog__controls\">\r\n        <button className=\"catalog__select\">\r\n          Sort: {SORT_OPTIONS[sort]}\r\n        </button>\r\n\r\n        <button className=\"catalog__select\">\r\n          Items: {perPage}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"catalog__grid\">\r\n        {visibleProducts.map(product => (\r\n          <ProductCard\r\n            key={product.id}\r\n            product={product}\r\n            cart={cart}\r\n            favorites={favorites}\r\n            addToCart={addToCart}\r\n            addToFavorites={addToFavorites}\r\n          />\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Catalog;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}