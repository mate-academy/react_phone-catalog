import fs from 'fs';

const file = 'public/api/tablets-lang.json';
const data = JSON.parse(fs.readFileSync(file, 'utf-8'));

// Мапа замін для типових фраз планшетів
const replacements = [
  {
    find: /Потужний виступ/gi,
    replace: 'Потужна продуктивність'
  },
  {
    find: /Досвід неймовірної потужності та продуктивності/gi,
    replace: 'Відчуйте неймовірну потужність і продуктивність'
  },
  {
    find: /З мікросхемою M1 він забезпечує новий рівень продуктивності, що робить його швидшим та ефективнішим, ніж будь -коли раніше/gi,
    replace: 'Завдяки чипу M1 він забезпечує новий рівень швидкодії, роблячи пристрій ще швидшим та ефективнішим, ніж будь-коли раніше'
  },
  {
    find: /Незалежно від того, чи редагуєте ви фотографії, розробляєте твори мистецтва чи багатозадачність із вимогливими додатками, iPad Pro 11 з легкістю обробляє все це/gi,
    replace: 'Редагуйте фото, створюйте мистецтво чи працюйте з вимогливими додатками — iPad Pro 11 впорається з усім легко'
  },
  {
    find: /Приголомшливий рідкий дисплей сітківки/gi,
    replace: 'Вражаючий Liquid Retina дисплей'
  },
  {
    find: /Насолоджуйтесь яскравим та захоплюючим візуальним досвідом на дисплеї рідкої сітківки iPad Pro 11/gi,
    replace: 'Насолоджуйтесь яскравим і захоплюючим зображенням на дисплеї Liquid Retina iPad Pro 11'
  },
  {
    find: /За допомогою технології просування та справжнього тону дисплей адаптується до вашого оточення, забезпечуючи плавне прокручування, точну точність кольору та неймовірні деталі/gi,
    replace: 'Технології ProMotion і True Tone забезпечують плавне прокручування, точну передачу кольорів і неймовірну деталізацію'
  },
  {
    find: /Від перегляду фільмів до редагування відео, дисплей iPad Pro 11 оживляє ваш вміст із приголомшливою чіткістю/gi,
    replace: 'Від перегляду фільмів до редагування відео — дисплей iPad Pro 11 оживляє ваш контент з приголомшливою чіткістю'
  },
  {
    find: /Універсальна система камер/gi,
    replace: 'Універсальна система камер'
  },
  {
    find: /Зафіксуйте приголомшливі фотографії та відео за допомогою вдосконаленої системи камер iPad Pro 11/gi,
    replace: 'Робіть чудові фото та відео завдяки вдосконаленій системі камер iPad Pro 11'
  },
  {
    find: /З 12-мегапіксельною ультра широкою камерою та 12-мегапіксельною задньою камерою з сканжером Lidar, ви можете зробити високоякісні кадри та насолодитися розширеною реальністю/gi,
    replace: '12Мп ультраширока фронтальна камера і 12Мп основна камера з LiDAR-сканером дозволяють отримати якісні знімки та насолоджуватися доповненою реальністю'
  },
  {
    find: /Незалежно від того, чи ви відеодзвінки, сканування документів чи запису 4K відео, система камер iPad Pro 11 забезпечує виняткову продуктивність/gi,
    replace: 'Відеодзвінки, сканування документів чи запис 4K-відео — система камер iPad Pro 11 забезпечує відмінний результат'
  }
];

for (const item of data) {
  if (!item.description || !item.description.uk) continue;
  for (const block of item.description.uk) {
    if (block.text && Array.isArray(block.text)) {
      block.text = block.text.map(text => {
        let newText = text;
        for (const {find, replace} of replacements) {
          newText = newText.replace(find, replace);
        }
        return newText;
      });
    }
  }
}

fs.writeFileSync(file, JSON.stringify(data, null, 2), 'utf-8');
console.log('Масова заміна англіцизмів і кальки у tablets-lang.json виконана!');
