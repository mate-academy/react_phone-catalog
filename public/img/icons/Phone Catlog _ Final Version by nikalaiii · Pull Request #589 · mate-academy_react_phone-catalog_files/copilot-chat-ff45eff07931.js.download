"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["copilot-chat"],{49339:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{J:()=>CopilotAuthTokenProvider});let AuthToken=class AuthToken{get authorizationHeaderValue(){return`GitHub-Bearer ${this.value}`}needsRefreshing(e){return this.isExpired||this.ssoChanged(e)}get isExpired(){let e=new Date(this.expiration);return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()))<new Date(Date.now()+15e3)}ssoChanged(e){return!(this.ssoOrgIDs.every(t=>e.includes(t))&&e.every(e=>this.ssoOrgIDs.includes(e)))}static fromResult(e,t){return new AuthToken(e.token,e.expiration,t)}serialize(){return{value:this.value,expiration:this.expiration,ssoOrgIDs:this.ssoOrgIDs}}static deserialize(e){return new AuthToken(e.value,e.expiration,e.ssoOrgIDs)}constructor(e,t,n){i(this,"value",void 0),i(this,"expiration",void 0),i(this,"ssoOrgIDs",void 0),this.value=e,this.expiration=t,this.ssoOrgIDs=n}};var r=n(80688),o=n(57572);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let a="COPILOT_AUTH_TOKEN";let CopilotAuthTokenProvider=class CopilotAuthTokenProvider{async getAuthToken(){let e=this.getLocalStorageAuthToken();return e?this.validateAuthToken(e):this.fetchAuthToken()}setLocalStorageAuthToken(e){this.copilotLocalStorage.setItem(a,JSON.stringify(e.serialize()))}getLocalStorageAuthToken(){let e=this.copilotLocalStorage.getItem(a);return e?AuthToken.deserialize(JSON.parse(e)):null}async validateAuthToken(e){return e.needsRefreshing(this.ssoOrgIDs)?this.fetchAuthToken():e}fetchAuthToken(){return this.currentAuthTokenRequest||(this.currentAuthTokenRequest=this._fetchAuthToken()),this.currentAuthTokenRequest}async _fetchAuthToken(){let e=await (0,o.lS)("/github-copilot/chat/token",{method:"POST"});if(e.ok){let t=await e.json();this.currentAuthTokenRequest=null;let n=AuthToken.fromResult(t,this.ssoOrgIDs);return this.setLocalStorageAuthToken(n),n}throw this.currentAuthTokenRequest=null,Error("Failed to mint new auth token")}constructor(e){s(this,"ssoOrgIDs",void 0),s(this,"currentAuthTokenRequest",void 0),s(this,"copilotLocalStorage",void 0),this.ssoOrgIDs=e,this.currentAuthTokenRequest=null,this.copilotLocalStorage=(0,r.A)("localStorage",{throwQuotaErrorsOnSet:!1,ttl:864e5})}}},10529:(e,t,n)=>{var i,r=n(11110),o=n(74848),s=n(10312),a=n(61663),l=n(65615),c=n(7426),d=n(82610),u=n(97286),h=n(96540),p=n(62456),m=n(5796),x=n(2976),f=n(47584),g=n(88782),v=n(90524),b=n(38621),j=n(52464),C=n(75177),w=n(89169),y=n(30631),_=n(10871),k=n(87330),I=n(16184),S=n(44968);function N({lineNumbers:e,lines:t,trimLineBeginnings:n}){return(0,o.jsx)(C.A,{sx:{display:"flex",flexDirection:"row",overflowX:"auto",pb:3},children:(0,o.jsx)("table",{style:{fontSize:"12px",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace",overflowX:"auto"},children:e.map((e,i)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e},e),(0,o.jsx)("td",{style:{whiteSpace:"pre",paddingLeft:"16px"},children:(0,o.jsx)(S.mo,{html:n?(t[i]??"").trimStart():t[i]||"\n"},`line-${i}`)})]},`line-row-${e}`))})})}try{N.displayName||(N.displayName="SimpleCodeListing")}catch{}function A({reference:e,details:t,detailsLoading:n,detailsError:i,onDismiss:r}){let{contributors:s}=(0,g.u)(e.repoOwner,e.repoName,e.commitOID,e.path),[a]=(0,v.E)(e.repoOwner,e.repoName,e.commitOID,e.path),{lines:l,lineNumbers:c,expandUp:d,expandDown:u}=function(e,t,n){let i=(0,h.useRef)(e?.start??-1),r=(0,h.useRef)(e?.end??-1),[o,s]=(0,h.useState)(n&&e&&t?n.slice(e.start-t.start,e.end-t.start+1):[]),a=(0,h.useCallback)(()=>{n&&e&&t&&!(i.current<0)&&!(r.current<0)&&s(n.slice(i.current-t.start,r.current-t.start+1))},[n,e,t]);(0,h.useEffect)(()=>{e&&n&&(-1===i.current||-1===r.current)&&(i.current=e.start,r.current=e.end,a())},[n,e,t,a]);let l=(0,h.useCallback)(()=>{i.current=Math.max(i.current-D,t?.start??-1),a()},[t?.start,a]),c=(0,h.useCallback)(()=>{r.current=Math.min(r.current+D,t?.end??-1),a()},[t?.end,a]),d=-1!==i.current&&i.current!==t?.start,u=-1!==r.current&&r.current!==t?.end;return{lines:o,lineNumbers:o.map((e,t)=>i.current+t),expandUp:d?l:null,expandDown:u?c:null}}(t?.range,t?.expandedRange,t?.highlightedContents),f=t?.headerInfo;return(0,o.jsxs)(I.O.Frame,{children:[(0,o.jsxs)(I.O.Header,{onDismiss:r,children:[(0,o.jsx)(p.r,{square:t?.repoIsOrgOwned,src:`${e.repoOwner}.png`,sx:{mr:2,flexShrink:0}}),(0,o.jsxs)(j.A,{sx:{fontWeight:600,whiteSpace:"nowrap"},children:[e.repoOwner,"/",e.repoName]}),(0,o.jsx)(j.A,{sx:{marginX:1},children:"\xb7"}),(0,o.jsx)(j.A,{sx:{fontWeight:400},children:(0,x.gE)(e.ref)}),(0,o.jsx)(j.A,{sx:{marginX:1},children:"\xb7"}),(0,o.jsx)(j.A,{sx:{fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},children:e.path}),"snippet"===e.type&&(0,o.jsxs)("span",{children:[":",e.range.start,"-",e.range.end]})]}),(0,o.jsxs)(I.O.Body,{detailsError:i,detailsLoading:n,children:[(0,o.jsxs)(C.A,{sx:{border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},children:[(0,o.jsxs)(O,{children:[f&&(0,o.jsx)(R,{headerInfo:f}),f&&(0,o.jsx)(L,{headerInfo:f})]}),d&&(0,o.jsx)(I.O.ContentExpander,{direction:"above",onExpand:d}),(0,o.jsx)(I.O.Content,{children:(0,o.jsx)(N,{lines:l,lineNumbers:c})}),u&&(0,o.jsx)(I.O.ContentExpander,{direction:"below",onExpand:u})]}),(0,o.jsxs)(I.O.Details,{children:[(0,o.jsxs)(I.O.DetailLink,{href:(0,m.Do2)({name:e.repoName,ownerLogin:e.repoOwner}),icon:b.RepoIcon,children:[e.repoOwner,"/",e.repoName]}),s&&(0,o.jsxs)(I.O.DetailLink,{icon:b.PeopleIcon,href:(0,m.buO)({owner:e.repoOwner,repo:e.repoName,commitish:e.commitOID,filePath:e.path,lineNumber:t?.range.start}),children:[s.totalCount," ",1===s.totalCount?"contributor":"contributors"]}),a&&(0,o.jsxs)(I.O.DetailLink,{icon:b.HistoryIcon,href:(0,m.$Qz)({owner:e.repoOwner,repo:e.repoName,commitish:a?.oid}),children:[a?.author?.displayName," updated ",(0,o.jsx)(w.A,{datetime:a?.date})]}),(0,o.jsxs)(I.O.DetailLink,{icon:b.LinkExternalIcon,href:e.url,children:[e.repoOwner,"/",e.repoName,"/",e.path,"snippet"===e.type?(0,o.jsxs)(o.Fragment,{children:["#",e.range.start,"-",e.range.end]}):null]})]})]})]})}function O({children:e}){return(0,o.jsx)(C.A,{sx:{p:2,display:"flex",flex:1,alignItems:"center",justifyContent:"space-between",backgroundColor:"canvas.subtle",borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0px 0px"},children:e})}function R({headerInfo:e}){return(0,o.jsx)(y.A,{title:e.blobSize,inline:!0,sx:{maxWidth:"100%",color:"fg.subtle"},"data-testid":"blob-size",children:(0,o.jsx)("span",{children:`${e.lineInfo.truncatedLoc} lines (${e.lineInfo.truncatedSloc} loc) \xb7 ${e.blobSize}`})})}function L({headerInfo:e}){let t=new URL(e.rawBlobUrl,f.fV.origin);t.searchParams.set("download","");let n={"aria-label":"Download raw content",icon:b.DownloadIcon,size:"small",onClick:async()=>{e.isLfs||await E(e.rawBlobUrl,e.displayName)},"data-testid":"download-raw-button",sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0}};return(0,o.jsxs)(C.A,{sx:{display:"flex"},children:[(0,o.jsx)(_.z,{href:e.rawBlobUrl,download:e.viewable?void 0:"true",size:"small",sx:{linkButtonSx:T,px:2,borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:"none"},"data-testid":"raw-button",children:"Raw"}),e.isLfs?(0,o.jsx)(k.K,{unsafeDisableTooltip:!0,as:"a","data-turbo":"false",href:t.toString(),...n}):(0,o.jsx)(k.K,{unsafeDisableTooltip:!0,...n})]})}let D=25,T={"&:hover:not([disabled])":{textDecoration:"none"},"&:focus:not([disabled])":{textDecoration:"none"},"&:active:not([disabled])":{textDecoration:"none"}};async function E(e,t){let n=await fetch(e,{method:"get"}),i=await n.blob(),r=document.createElement("a");r.setAttribute("download",t);let o=URL.createObjectURL(i);r.href=o,r.setAttribute("target","_blank"),r.click(),URL.revokeObjectURL(o)}try{A.displayName||(A.displayName="CodeReferencePreview")}catch{}try{O.displayName||(O.displayName="BlobPreviewHeader")}catch{}try{R.displayName||(R.displayName="BlobSize")}catch{}try{L.displayName||(L.displayName="RawButtons")}catch{}var P=n(30729),B=n(64542);function F({reference:e,detailsLoading:t,detailsError:n,onDismiss:i}){return(0,o.jsxs)(I.O.Frame,{children:[(0,o.jsxs)(I.O.Header,{onDismiss:i,children:[(0,o.jsx)(P.A,{icon:b.GitCommitIcon,sx:{mr:2}}),(0,o.jsx)(C.A,{sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e.message})]}),(0,o.jsxs)(I.O.Body,{detailsError:n,detailsLoading:t,children:[(0,o.jsxs)(C.A,{sx:{display:"flex",flexDirection:"row",p:3},children:[(0,o.jsx)(p.r,{src:`${e.author.login}.png`,sx:{mr:2,flexShrink:0}}),(0,o.jsx)(C.A,{sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},children:e.author.login})]}),(0,o.jsx)(C.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),(0,o.jsx)(I.O.Content,{children:(0,o.jsx)(B.To,{markdown:e.message})}),(0,o.jsx)(C.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),(0,o.jsxs)(I.O.Details,{children:[(0,o.jsxs)(I.O.DetailLink,{href:(0,m.Do2)({name:e.repository.name,ownerLogin:e.repository.owner}),icon:b.RepoIcon,children:[e.repository.owner,"/",e.repository.name]}),(0,o.jsxs)(I.O.DetailLink,{href:e.permalink,icon:b.LinkExternalIcon,children:[e.repository.owner,"/",e.repository.name,"/commit/",e.oid]})]})]})]})}try{F.displayName||(F.displayName="CommitReferencePreview")}catch{}var $=n(23976);function M({reference:e,details:t,detailsLoading:n,detailsError:i,onDismiss:r}){let{contributors:s}=(0,g.u)(e.repoOwner,e.repoName,e.commitOID,e.path),[a]=(0,v.E)(e.repoOwner,e.repoName,e.commitOID,e.path);return(0,o.jsxs)(I.O.Frame,{children:[(0,o.jsxs)(I.O.Header,{onDismiss:r,children:[(0,o.jsx)(p.r,{square:t?.repoIsOrgOwned,src:`${e.repoOwner}.png`,sx:{mr:2,flexShrink:0}}),(0,o.jsxs)(j.A,{sx:{fontWeight:600,whiteSpace:"nowrap"},children:[e.repoOwner,"/",e.repoName]}),(0,o.jsx)(j.A,{sx:{marginX:1},children:"\xb7"}),(0,o.jsx)(j.A,{sx:{fontWeight:400},children:(0,x.gE)(e.ref)}),(0,o.jsx)(j.A,{sx:{marginX:1},children:"\xb7"}),(0,o.jsx)(j.A,{sx:{fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},children:e.path})]}),(0,o.jsxs)(I.O.Body,{detailsLoading:n,detailsError:i,children:[t&&(0,o.jsx)(z,{details:t}),(0,o.jsxs)(I.O.Details,{children:[(0,o.jsxs)(I.O.DetailLink,{href:(0,m.Do2)({name:e.repoName,ownerLogin:e.repoOwner}),icon:b.RepoIcon,children:[e.repoOwner,"/",e.repoName]}),s&&(0,o.jsxs)(I.O.DetailLink,{icon:b.PeopleIcon,href:(0,m.buO)({owner:e.repoOwner,repo:e.repoName,commitish:e.commitOID,filePath:e.path,lineNumber:t?.range.start}),children:[s.totalCount," contributors"]}),a&&(0,o.jsxs)(I.O.DetailLink,{icon:b.HistoryIcon,href:(0,m.$Qz)({owner:e.repoOwner,repo:e.repoName,commitish:a?.oid}),children:[a?.author?.displayName," updated ",(0,o.jsx)(w.A,{datetime:a?.date})]}),(0,o.jsxs)(I.O.DetailLink,{icon:b.LinkExternalIcon,href:e.url,children:[e.repoOwner,"/",e.repoName,"/",e.path,t?(0,o.jsxs)(o.Fragment,{children:["#",t.range.start,"-",t.range.end]}):null]})]})]})]})}function z({details:e}){let[t,n]=(0,h.useState)(e.range.start),[i,r]=(0,h.useState)(e.range.end),s=(0,h.useMemo)(()=>V(e.contents,e.contents.length),[e.contents]),[a,l]=(0,h.useState)("preview"),c=e?.headerInfo,d=(0,h.useCallback)(()=>{n(function(e,t){let n=W(e,t),i=function(e){let t;for(let n of e)t=n;return t}(e.slice(0,n).matchAll(/^#+\s/gm));return V(e,i?.index??0)}(e.contents,t))},[e.contents,t]),u=(0,h.useCallback)(()=>{let t=i;for(;t<s&&t<i+10;)t=function(e,t){let n=W(e,t),i=e.slice(n).match(/^#+\s/m),r=i?n+i.index:e.length;return V(e,r)}(e.contents,t+1);r(t-1)},[e.contents,i,s]),p=(0,h.useMemo)(()=>{let n=e.contents;if(t){let e=function(e,t,n=t-1){let i=-1,r=-1,o=-1;for(let s=1;;s++){if(s===t&&(r=i+1),s===n+1){o=i;break}if(-1===(i=e.indexOf("\n",i+1)))break}return{startIndex:r,endIndex:o}}(n,t,i);e.endIndex>-1&&(n=n.slice(e.startIndex,e.endIndex)),n=n.replace(/^---\n[\s\S]*?\n---\n/,"")}return n},[e.contents,t,i]);return(0,o.jsxs)(C.A,{sx:{border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},children:[(0,o.jsxs)(O,{children:[(0,o.jsxs)(C.A,{sx:{display:"flex",alignItems:"baseline",gap:2},children:[(0,o.jsxs)($.I,{"aria-label":"File view",size:"small",onChange:e=>{let t=["preview","code"][e];t&&a!==t&&l(t)},sx:{fontSize:1},children:[(0,o.jsx)($.I.Button,{selected:"preview"===a,children:"Preview"},"preview'"),(0,o.jsx)($.I.Button,{selected:"code"===a,children:"Code"},"raw")]}),c&&(0,o.jsx)(R,{headerInfo:c})]}),c&&(0,o.jsx)(L,{headerInfo:c})]}),t>1&&(0,o.jsx)(I.O.ContentExpander,{direction:"above",onExpand:d}),(0,o.jsx)(I.O.Content,{children:"preview"===a?(0,o.jsx)(C.A,{className:"js-snippet-clipboard-copy-unpositioned",sx:{".highlighted":{backgroundColor:e=>`${e.colors.accent.subtle}`}},children:(0,o.jsx)(B.To,{markdown:p,openLinksInCurrentTab:!1})}):(0,o.jsx)("code",{children:(0,o.jsx)(C.A,{as:"pre",sx:{overflowX:"auto"},children:e.contents})})}),i<s&&(0,o.jsx)(I.O.ContentExpander,{direction:"below",onExpand:u})]})}function V(e,t){return function(e){let t=0;for(let n of e)t++;return t}(e.slice(0,t).matchAll(/\n/g))+1}function W(e,t){if(1===t)return 0;let n=-1;for(let i=2;i<=t;i++)if(-1===(n=e.indexOf("\n",n+1)))return e.length;return n+1}try{M.displayName||(M.displayName="MarkdownReferencePreview")}catch{}try{z.displayName||(z.displayName="MarkdownReferencePreviewContent")}catch{}function H({reference:e,detailsLoading:t,detailsError:n,onDismiss:i}){return(0,o.jsxs)(I.O.Frame,{children:[(0,o.jsxs)(I.O.Header,{onDismiss:i,children:[(0,o.jsx)(P.A,{icon:b.GitCommitIcon,sx:{mr:2}}),(0,o.jsx)(C.A,{sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e.title})]}),(0,o.jsxs)(I.O.Body,{detailsError:n,detailsLoading:t,children:[(0,o.jsxs)(C.A,{sx:{display:"flex",flexDirection:"row",p:3},children:[(0,o.jsx)(p.r,{src:`${e.authorLogin}.png`,sx:{mr:2,flexShrink:0}}),(0,o.jsx)(C.A,{sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},children:e.authorLogin})]}),(0,o.jsx)(C.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),(0,o.jsx)(I.O.Content,{children:(0,o.jsx)(B.To,{markdown:e.title})}),(0,o.jsx)(C.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),(0,o.jsxs)(I.O.Details,{children:[(0,o.jsxs)(I.O.DetailLink,{href:(0,m.Do2)({name:e.repository.name,ownerLogin:e.repository.ownerLogin}),icon:b.RepoIcon,children:[e.repository.ownerLogin,"/",e.repository.name]}),(0,o.jsx)(I.O.DetailLink,{href:e.url,icon:b.LinkExternalIcon,children:e.url})]})]})]})}try{H.displayName||(H.displayName="PullRequestReferencePreview")}catch{}function U({reference:e,details:t,detailsLoading:n,detailsError:i,onDismiss:r}){let s=new Map,a=new Map;if(t?.kind==="suggestionSymbol")for(let e of t.suggestionDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;s.has(t)||s.set(t,[]),s.get(t).push(e)}else if(t?.kind==="codeNavSymbol"){for(let e of t.codeNavDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;s.has(t)||s.set(t,[]),s.get(t).push(e)}for(let e of t?.codeNavReferences??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;a.has(t)||a.set(t,[]),a.get(t).push(e)}}let l=[...s.values()][0]?.[0]??[...a.values()][0]?.[0],c=s.size>0,d=a.size>0,u=[...s.values()].length,h=[...s.values()].reduce((e,t)=>e+t.length,0),p=[...a.values()].length,x=[...a.values()].reduce((e,t)=>e+t.length,0),{contributors:f}=(0,g.u)(l?.repoOwner,l?.repoName,l?.commitOID,l?.path),[j]=(0,v.E)(l?.repoOwner,l?.repoName,l?.commitOID,l?.path);return(0,o.jsxs)(I.O.Frame,{children:[(0,o.jsx)(I.O.Header,{onDismiss:r,children:e.name}),(0,o.jsxs)(I.O.Body,{detailsError:i,detailsLoading:n,children:[c&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(I.O.SectionDivider,{children:[h," ",1===h?"definition":"definitions",u>1?` across ${u} files`:null]}),[...s.values()].map((e,t)=>(0,o.jsx)(I.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t,children:(0,o.jsx)(I.O.Content,{children:e.map((e,t)=>e.highlightedContents?(0,o.jsx)(N,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:Z(e)},t):null)})},e[0].path))]}),d&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(I.O.SectionDivider,{children:[x," ",1===x?"reference":"references",p>1?` across ${p} files`:null]}),[...a.values()].map((e,t)=>(0,o.jsx)(I.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t&&!c,children:(0,o.jsx)(I.O.Content,{children:e.map((e,t)=>e.highlightedContents?(0,o.jsx)(N,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:Z(e)},t):null)})},e[0].path))]}),(0,o.jsxs)(I.O.Details,{children:[l&&(0,o.jsxs)(I.O.DetailLink,{href:(0,m.Do2)({name:l.repoName,ownerLogin:l.repoOwner}),icon:b.RepoIcon,children:[l.repoOwner,"/",l.repoName]}),f&&l&&(0,o.jsxs)(I.O.DetailLink,{icon:b.PeopleIcon,href:(0,m.buO)({owner:l.repoOwner,repo:l.repoName,commitish:l.commitOID,filePath:l.path}),children:[f.totalCount," ",1===f.totalCount?"contributor":"contributors"]}),j&&l&&(0,o.jsxs)(I.O.DetailLink,{icon:b.HistoryIcon,href:(0,m.$Qz)({owner:l.repoOwner,repo:l.repoName,commitish:j?.oid}),children:[j?.author?.displayName," updated ",(0,o.jsx)(w.A,{datetime:j?.date})]}),l&&(0,o.jsxs)(I.O.DetailLink,{icon:b.LinkExternalIcon,href:(0,m.nD_)({owner:l.repoOwner,repo:l.repoName,commitish:l.commitOID,filePath:l.path}),children:[l.repoOwner,"/",l.repoName,"/",l.path]})]})]})]})}function Z({range:e}){return e?Array(e.end-e.start+1).fill(null).map((t,n)=>e.start+n):[]}try{U.displayName||(U.displayName="SymbolReferencePreview")}catch{}let q=e=>e?.start?e.end?`${e.start}-${e.end}`:`${e.start}`:"",G=e=>{let t=q(e.selectedRange),n=e.url.split(window.location.host)[1];return{href:e.url+t,path:n+t,range:t}};function K({reference:e,details:t,detailsLoading:n,detailsError:i,onDismiss:r}){let s=e.headFile??e.baseFile,{contributors:a}=(0,g.u)(s.repoOwner,s.repoName,s.commitOID,s.path),[l]=(0,v.E)(s.repoOwner,s.repoName,s.commitOID,s.path),{href:c,path:d,range:u}=G(e);return(0,o.jsxs)(I.O.Frame,{children:[(0,o.jsxs)(I.O.Header,{onDismiss:r,children:[(0,o.jsx)(p.r,{square:t?.repoIsOrgOwned,src:`${s.repoOwner}.png`,sx:{mr:2,flexShrink:0}}),(0,o.jsxs)(C.A,{sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:[s.repoOwner,"/",s.repoName,"/",s.path," ",u]})]}),(0,o.jsx)(I.O.Body,{detailsError:i,detailsLoading:n,children:(0,o.jsxs)(I.O.Details,{children:[(0,o.jsxs)(I.O.DetailLink,{href:(0,m.Do2)({name:s.repoName,ownerLogin:s.repoOwner}),icon:b.RepoIcon,children:[s.repoOwner,"/",s.repoName]}),a&&(0,o.jsxs)(I.O.DetailLink,{icon:b.PeopleIcon,href:(0,m.buO)({owner:s.repoOwner,repo:s.repoName,commitish:s.commitOID,filePath:s.path}),children:[a.totalCount," ",1===a.totalCount?"contributor":"contributors"]}),l&&(0,o.jsxs)(I.O.DetailLink,{icon:b.HistoryIcon,href:(0,m.$Qz)({owner:s.repoOwner,repo:s.repoName,commitish:l?.oid}),children:[l?.author?.displayName," updated ",(0,o.jsx)(w.A,{datetime:l?.date})]}),(0,o.jsx)(I.O.DetailLink,{icon:b.LinkExternalIcon,href:c,children:d})]})})]})}try{K.displayName||(K.displayName="FileDiffReferencePreview")}catch{}var X=n(91295);function J({dismissable:e}){let{reference:t,details:n,detailsLoading:i,detailsError:r,dismissReference:s}=Y();return(0,o.jsx)(Q,{reference:t,details:n,detailsLoading:i,detailsError:r,onDismiss:e?s:void 0})}function Q({reference:e,details:t,detailsLoading:n,detailsError:i,onDismiss:r}){switch(e.type){case"symbol":return(0,o.jsx)(U,{reference:e,details:t,detailsLoading:n,detailsError:i,onDismiss:r},(0,d.Vb)(e));case"file":case"snippet":return"Markdown"===e.languageName?(0,o.jsx)(M,{reference:e,details:t,detailsError:i,detailsLoading:n,onDismiss:r},(0,d.Vb)(e)):(0,o.jsx)(A,{reference:e,details:t,detailsLoading:n,detailsError:i,onDismiss:r},(0,d.Vb)(e));case"file-diff":return(0,o.jsx)(K,{reference:e,details:t,detailsLoading:n,detailsError:i,onDismiss:r},(0,d.Vb)(e));case"commit":return(0,o.jsx)(F,{reference:e,detailsLoading:n,detailsError:i,onDismiss:r},(0,d.Vb)(e));case"pull-request":return(0,o.jsx)(H,{reference:e,detailsLoading:n,detailsError:i,onDismiss:r},(0,d.Vb)(e));case"web-search":return(0,o.jsx)(X.I,{reference:e,onDismiss:r},(0,d.Vb)(e));default:return null}}function Y(){let e=(0,c.b)(),t=(0,l.Pk)().selectedReference,{isLoading:n,isError:i,data:r}=(0,u.I)({queryKey:["copilot-reference-preview","copilot","references",t?.type,t?(0,d.Vb)(t):void 0],queryFn:async()=>{if(!t)return null;let n=await e.service.hydrateReference(t);return n.ok?n.payload:null},staleTime:Number.MIN_VALUE});return{reference:t,dismissReference:(0,h.useCallback)(()=>e.selectReference(null),[e]),details:r??void 0,detailsLoading:n,detailsError:i}}try{J.displayName||(J.displayName="CopilotReferencePreview")}catch{}try{Q.displayName||(Q.displayName="CopilotReferencePreviewImpl")}catch{}function ee(){let{dismissReference:e,reference:t}=Y(),{screenSize:n}=(0,a.lm)(),i=n<a.Gy.large,r=t?.type==="web-search"?`Bing search results for "${t.query}"`:"Reference";return(0,o.jsxs)(s.A,{"aria-label":r,isOpen:!!t,onDismiss:e,sx:{display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:"var(--borderRadius-large)",margin:0,...i?{height:["auto","auto"],top:"1dvh",width:"90dvw"}:{top:"10vh",width:"50dvw",maxWidth:"1024px"}},children:[(0,o.jsx)(s.A.Header,{children:r}),(0,o.jsx)(J,{})]})}try{ee.displayName||(ee.displayName="CopilotReferencePreviewDialog")}catch{}var et=n(4460),en=n(97074),ei=n(57572),er=n(98939),eo=n(55847),es=n(94977),ea=n(75095),el=n(75632),ec=n(46988),ed=n(11499),eu=n(46928),eh=n(92627),ep=n(34164),em=n(96558),ex=n(10967),ef=n(37937);let eg={copilotChatPanel:"ChatPanel-module__copilotChatPanel--YfhVH"};var ev=n(62064);let eb=()=>{let e=(0,l.Pk)(),t=(0,c.b)(),n=t.getSelectedThread(e);return(0,o.jsx)(ev.v,{tabIndex:-1,id:"copilot-floating-button",icon:b.CopilotIcon,label:"Open Copilot chat","aria-controls":em.wJ,tooltipDirection:"w",onClick:()=>{t.openChat(n,e.currentView,"floating-button-v2",e.chatVisibleSettingPath)},sx:{"--floating-button-size":"2.5rem",position:"fixed",bottom:3,right:3,zIndex:9,color:"fg.default !important",bg:"var(--bgColor-default, var(--color-canvas-default))",borderRadius:"var(--floating-button-size)",border:"none",boxShadow:"var(--shadow-floating-small)",height:"var(--floating-button-size)",width:"var(--floating-button-size)","&:focus, &:active":{boxShadow:"var(--shadow-floating-small, var(--shadow-small))"}},"data-hotkey":"Shift+Z"})};try{eb.displayName||(eb.displayName="FloatingButton")}catch{}var ej=n(89401);let eC=e=>{let{children:t,initialFocusRef:n,staffDialogRef:i,handleClose:r,panelWidth:s,panelHeight:a,startResize:u,onResizerKeyDown:p}=e,m=(0,l.Pk)(),{chatIsOpen:x,chatIsVisible:f,currentTopic:g}=m,v=m.entryPointId??em.fv,b=(0,h.useRef)(null),j=(0,h.useRef)(null);(0,h.useEffect)(()=>{let e=document.getElementById(v);j.current=e},[v]);let w=(0,h.useCallback)(()=>{b.current&&b.current.contains(document.activeElement)&&r(!0)},[r]),y=(0,c.b)(),_=y.getSelectedThread(m),k=(0,eu.Z)();return(0,o.jsx)(o.Fragment,{children:x?(0,o.jsxs)(eh.Ay,{id:em.wJ,className:(0,ep.$)(eg.copilotChatPanel),ref:b,portalContainerName:ej.Gj,onEscape:w,onClickOutside:()=>{},ignoreClickRefs:[i],initialFocusRef:n,returnFocusRef:j,sx:{maxWidth:"calc(100vw - 2rem)",height:x?`${a}px`:"48px",maxHeight:"calc(100vh - 1rem - 60px)",minHeight:x?`${ex.cx}px`:void 0,width:x?`${s}px`:"400px",minWidth:`${ex.Ld}px`},right:8,bottom:8,anchorSide:"inside-top",position:"fixed",role:"dialog","aria-labelledby":em.Qs,children:[(0,o.jsx)(ed.ak,{commands:{"copilot-chat:close-assistive":()=>y.closeChat()}}),(0,o.jsx)(ed.tL,{commands:{"copilot-chat:continue-in-immersive":()=>{(0,ec.BI)("dotcom_chat.activate",{target:"IMMERSIVE_OPTION",mode:"assistive"}),ef.J.setCurrentReferences(_?.id??null,m.currentReferences),_?k(`${d.Jz}/c/${_.id}`):g&&(0,d.Z6)(g)?k(`${d.Jz}/r/${g.ownerLogin}/${g.name}`):k(d.Jz)}},children:(0,o.jsx)("section",{id:em.Qs,"aria-label":"Copilot chat panel",style:{height:"100%"},children:(0,o.jsxs)(C.A,{sx:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},"data-testid":em.Qs,children:[(0,o.jsx)(C.A,{id:"vertical-resize-click-target",sx:{position:"absolute",inset:0,height:"0.5rem",width:"100%",cursor:x?"ns-resize":void 0,zIndex:2},onMouseDown:e=>u(e,!1,!0)}),(0,o.jsx)(C.A,{sx:{position:"absolute",inset:0,height:"100%",width:"8px",cursor:x?"ew-resize":void 0,zIndex:2},onMouseDown:e=>u(e,!0,!1)}),(0,o.jsx)(C.A,{sx:{position:"absolute",inset:0,height:"0.5rem",width:"0.5rem",cursor:x?"nwse-resize":"undefined",zIndex:2},"aria-label":"Chat panel resizer","aria-valuetext":`${s}, ${a}`,"aria-valuenow":s,role:"separator",onMouseDown:e=>u(e,!0,!0),tabIndex:0,onKeyDown:p}),(0,o.jsx)(C.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,maxHeight:"100%"},children:t})]})})})]}):f&&!(0,el.G7)("copilot_no_floating_button")?(0,o.jsx)(eb,{}):null})};try{eC.displayName||(eC.displayName="ChatPanel")}catch{}var ew=n(77731),ey=n(57516),e_=n(84217),ek=n(47139),eI=n(89323),eS=n(8338),eN=n(77342),eA=n(2622),eO=n(14987),eR=n(25408),eL=n(16255),eD=n(73451),eT=n(34614),eE=n(67138),eP=n(74144),eB=n(48247);let eF=({onDismiss:e,experimentsDialogRef:t})=>{let[n,i]=(0,h.useState)(()=>(0,eB.f)().join(",")),[r,s]=(0,h.useState)(void 0),a=(0,h.useRef)("\u200B"),l=()=>{let t=[];for(let e of n.split(","))if(""!==e.trim()){if(2!==e.split("=").length){s(`Invalid experiment key=value pair${a.current}`),a.current+="\u200B";return}s(""),t.push(e)}(0,eB.R)(t),e()};return(0,o.jsx)(eL.Z,{children:(0,o.jsxs)(eP.l,{ref:t,onClose:e,title:"Experiments",width:"xlarge",children:[(0,o.jsx)(eP.l.Body,{children:(0,o.jsx)(C.A,{sx:{p:3},children:(0,o.jsxs)(eD.A,{children:[(0,o.jsx)(eD.A.Label,{children:"Experiments"}),(0,o.jsx)(eD.A.Caption,{children:(0,o.jsxs)("span",{children:["List experiments as comma separated ",(0,o.jsx)("code",{children:"key=value"})," pairs. To see available experiments,"," ",(0,o.jsx)(eT.A,{inline:!0,target:"_blank",href:`/search?q=${encodeURIComponent("repo:github/copilot-api path:experiments.go")}`,children:"read this code"}),"."]})}),(0,o.jsx)(eE.A,{sx:{width:"100%",my:2},"aria-label":"Experiments",name:"experiments",value:n,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key&&l()}}),r&&(0,o.jsx)(eD.A.Validation,{variant:"error",children:r})]})})}),(0,o.jsx)(eP.l.Footer,{children:(0,o.jsx)(eP.l.Buttons,{buttons:[{type:"button",onClick:e,content:"Cancel"},{type:"submit",onClick:l,content:"Save",buttonType:"primary"}]})})]})})};try{eF.displayName||(eF.displayName="ExperimentsDialog")}catch{}var e$=n(57393);let eM=({dialogType:e,onDismiss:t,staffDialogRef:n})=>(0,o.jsxs)(o.Fragment,{children:[e===eN.hs.Experiments&&(0,o.jsx)(eF,{experimentsDialogRef:n,onDismiss:t}),e===eN.hs.Prompt&&(0,o.jsx)(e$.X,{promptDialogRef:n,onDismiss:t})]});try{eM.displayName||(eM.displayName="StaffDialogs")}catch{}let ez=e=>{let t=(0,l.Pk)(),n=(0,c.b)(),[i,r]=(0,h.useState)(!1),s=n.getSelectedThread(t),{showTopicPicker:a,messages:d,streamingMessage:u}=t,p=s?.name??t.restoredThreadTitle,m=(0,h.useCallback)(async()=>s&&n.deleteThread(s),[s,n]),x=(0,el.G7)("lifecycle_label_name_updates"),f=(0,el.G7)("copilot_no_floating_button"),g=(0,h.useRef)(null);return(0,o.jsxs)(C.A,{sx:{display:"flex",gap:2,p:2,pl:"immersive"===t.mode?1:3,borderBottom:a?"none":"1px solid",borderColor:"border.default",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)(C.A,{sx:{display:"flex",flex:1,minWidth:0},children:"thread"===t.currentView?!a&&!e.isImmersive&&0===d.length&&t.chatIsOpen&&(0,o.jsx)(e_.A,{as:"h2",sx:{fontSize:1,display:"flex",alignItems:"center",flexGrow:1,gap:2,minWidth:0,cursor:"default"},children:"thread"===t.currentView?(0,o.jsx)(o.Fragment,{children:p?(0,o.jsx)("span",{className:"Truncate",children:(0,o.jsx)("span",{className:"Truncate-text",title:p,children:p})}):e.isResponding&&!t.chatIsOpen?(0,o.jsx)(o.Fragment,{children:"Responding\u2026"}):t.chatIsOpen?!a&&(0,o.jsx)(o.Fragment,{children:"New conversation"}):(0,o.jsx)(o.Fragment,{children:"Ask Copilot"})}):"Copilot"}):(0,o.jsx)(eV,{})}),(0,o.jsxs)(C.A,{sx:{display:"flex",alignItems:"center"},children:[t.chatIsOpen&&(0,o.jsxs)(o.Fragment,{children:[t.renderBetaLabel&&(x?(0,o.jsx)(ew.X,{className:"mr-2"}):(0,o.jsx)(ek.A,{variant:"success",sx:{mr:2},children:"Beta"})),"thread"===t.currentView?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ev.v,{hidden:0===d.length,variant:"invisible",icon:b.PlusIcon,label:"New conversation",tooltipDirection:"s",onClick:async()=>{await n.selectThread(null)},sx:{color:"fg.muted"}}),(0,o.jsx)(eW,{anchorRef:g,handleDelete:m,thread:s,setShowStaffDialog:e.setShowStaffDialog,setShowPersonalInstructionsDialog:r})]}):(0,o.jsx)(ev.v,{variant:"invisible",icon:b.PlusIcon,label:"New conversation",tooltipDirection:"w",onClick:async()=>{await n.selectThread(null)},sx:{color:"fg.muted"}})]}),!e.isImmersive&&(0,o.jsxs)(o.Fragment,{children:[t.chatIsOpen&&(0,o.jsx)(C.A,{sx:{mx:2,height:"20px",width:"1px",bg:"border.muted"}}),(0,o.jsx)(ed.N5,{commandId:"copilot-chat:continue-in-immersive",variant:"invisible",icon:b.ScreenFullIcon,"aria-label":"Continue in immersive",disabled:!!u,sx:{color:"fg.muted"},tooltipDirection:"sw"}),f?(0,o.jsx)(ed.N5,{commandId:"copilot-chat:close-assistive",variant:"invisible",icon:b.XIcon,tooltipDirection:"sw",sx:{color:"fg.muted"}}):(0,o.jsx)(ev.v,{variant:"invisible",icon:t.chatIsOpen?b.ChevronDownIcon:b.ChevronUpIcon,label:t.chatIsOpen?"Collapse":"Expand",tooltipDirection:t.chatIsOpen?"sw":"w",onClick:t.chatIsOpen?()=>n.closeChat():()=>n.openChat(s,t.currentView,"header",t.chatVisibleSettingPath),sx:{color:"fg.muted"},"data-hotkey":"Shift+Z"})]})]}),(0,o.jsx)(eM,{dialogType:e.showStaffDialog,staffDialogRef:e.staffDialogRef,onDismiss:()=>e.setShowStaffDialog(eN.hs.None)}),i&&(0,o.jsx)(eR.Y,{returnFocusRef:g,onDismiss:()=>r(!1)})]})},eV=()=>{let{mode:e}=(0,l.Pk)(),t=(0,c.b)();return(0,o.jsx)(eo.Q,{leadingVisual:b.ArrowLeftIcon,variant:"invisible",onClick:()=>t.viewCurrentThread(),sx:{color:"fg.muted",marginLeft:"assistive"===e?"-8px":void 0},children:"Back"})},eW=e=>{let[t,n]=(0,h.useState)(!1),{chatVisibleSettingPath:i,currentTopic:r,mode:s,repoCustomInstructionsEnabled:a,currentReferences:u}=(0,l.Pk)(),p=(0,c.b)(),m=(0,h.useRef)(null),x=(0,el.G7)("copilot_no_floating_button"),f=eA.W.staffPromptDialog,g=eA.W.repoCustomInstructions||eA.W.repoCustomInstructionsPreview,v=r?.customInstructions||[];eA.W.topicsAsReferences&&(v=(0,d.NJ)(u));let j=(0,h.useCallback)(()=>{p.fetchThreads(),p.viewAllThreads(),(0,ec.BI)("copilot.view-conversations-clicked")},[p]),C=(0,h.useMemo)(()=>(0,ey.X)(),[]),w=!e.thread;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(eI.W,{open:t,onOpenChange:()=>n(e=>!e),anchorRef:e.anchorRef,children:[(0,o.jsx)(eI.W.Anchor,{children:(0,o.jsx)(ev.v,{icon:b.KebabHorizontalIcon,variant:"invisible",label:"Conversation options",tooltipDirection:"s",hideTooltip:t,sx:{color:"fg.muted"}})}),(0,o.jsx)(ej.UJ,{children:(0,o.jsxs)(eS.l,{children:[g&&v.length>0&&(0,o.jsxs)(eS.l.Item,{onSelect:()=>{p.toggleRepoCustomInstructions(!a)},children:[(0,o.jsx)(eS.l.LeadingVisual,{children:(0,o.jsx)(b.NoteIcon,{})}),a?"Disable custom instructions":"Enable custom instructions"]}),(0,o.jsxs)(eS.l.Item,{variant:w?"default":"danger",onSelect:()=>{e.handleDelete(),n(!1)},disabled:w,"aria-describedby":"delete-conversation-description",children:[(0,o.jsx)(eS.l.LeadingVisual,{children:(0,o.jsx)(b.TrashIcon,{})}),"Delete conversation",(0,o.jsx)("p",{id:"delete-conversation-description",className:"sr-only",children:"This is a destructive action that cannot be undone"})]}),(0,o.jsx)(eS.l.Divider,{}),(0,o.jsxs)(eS.l.Item,{onSelect:()=>e.setShowPersonalInstructionsDialog(!0),children:[(0,o.jsx)(eS.l.LeadingVisual,{children:(0,o.jsx)(b.ToolsIcon,{})}),"Personal instructions"]}),"assistive"===s&&(0,o.jsxs)(eS.l.Item,{onSelect:j,children:[(0,o.jsx)(eS.l.LeadingVisual,{children:(0,o.jsx)(b.HistoryIcon,{})}),"View all conversations"]}),(0,o.jsxs)(eS.l.Item,{onSelect:()=>{m.current?.openDialog(),(0,ec.BI)("dotcom_chat.activate",{target:"META_CONTEXT_MENU_GIVE_FEEDBACK",mode:"assistive"})},children:[(0,o.jsx)(eS.l.LeadingVisual,{children:(0,o.jsx)(b.CommentDiscussionIcon,{})}),"Give feedback"]}),"assistive"===s&&!x&&(0,o.jsxs)(eS.l.Item,{onSelect:()=>{p.hideChat(i)},children:[(0,o.jsx)(eS.l.LeadingVisual,{children:(0,o.jsx)(b.EyeClosedIcon,{})}),"Hide Copilot chat"]}),C&&(0,o.jsxs)(eS.l.Item,{onSelect:()=>e.setShowStaffDialog(eN.hs.Experiments),children:[(0,o.jsx)(eS.l.LeadingVisual,{children:(0,o.jsx)(b.BeakerIcon,{})}),"Configure experiments",(0,o.jsx)(eS.l.TrailingVisual,{children:(0,o.jsx)(ek.A,{variant:"attention",children:"Staff"})})]}),C&&f&&(0,o.jsxs)(eS.l.Item,{onSelect:()=>e.setShowStaffDialog(eN.hs.Prompt),children:[(0,o.jsx)(eS.l.LeadingVisual,{children:(0,o.jsx)(b.BeakerIcon,{})}),"Adjust prompts",(0,o.jsx)(eS.l.TrailingVisual,{children:(0,o.jsx)(ek.A,{variant:"attention",children:"Staff"})})]})]})})]}),(0,o.jsx)(eO.l,{ref:m,mode:"assistive"})]})};try{ez.displayName||(ez.displayName="Header")}catch{}try{eV.displayName||(eV.displayName="ReturnToCurrentThreadButton")}catch{}try{eW.displayName||(eW.displayName="ThreadOptionButton")}catch{}var eH=n(88117),eU=n(26514),eZ=n(35642),eq=n(96339),eG=n(93326),eK=n(78176),eX=n(72659),eJ=n(26871),eQ=n(33764),eY=n(47920);let e0={dialog:"CommandWindow-module__dialog--nK81t",copilotAvatar:"CommandWindow-module__copilotAvatar--ye1FK",commandListItemSelected:"CommandWindow-module__commandListItemSelected--EuUNl",chatMessageWrapper:"CommandWindow-module__chatMessageWrapper--KDhKM"};function e1({headingText:e,commands:t,onSelect:n}){return(0,o.jsx)(eS.l,{variant:"full",className:"my-2",children:(0,o.jsxs)(eS.l.Group,{children:[(0,o.jsx)(eS.l.GroupHeading,{as:"h4",className:"ml-n2",children:e}),t.map(e=>{let t=b[e.iconName];return(0,o.jsxs)(eS.l.Item,{className:(0,ep.$)("p-2",e.selected?e0.commandListItemSelected:""),onSelect:()=>n(e),children:[(0,o.jsx)(eS.l.LeadingVisual,{children:(0,o.jsx)(t,{})}),e.name,e.selected&&(0,o.jsx)(eS.l.TrailingVisual,{children:"Ask Copilot"})]},e.name)})]})})}try{e1.displayName||(e1.displayName="CommandList")}catch{}function e5({context:e}){if(!e)return;let t=function(e){if("pull-request"===e.type)return{name:`${e.number}`,icon:b.GitPullRequestIcon}}(e);if(!t)return;let{icon:n,name:i}=t;return(0,o.jsxs)("div",{className:"fgColor-muted bgColor-muted px-2 py-1 rounded-2 f6",children:[n&&(0,o.jsx)(n,{className:"mr-1 fgColor-open",size:"small"}),i]})}try{e5.displayName||(e5.displayName="ContextLabel")}catch{}var e4=n(60068);function e6({topic:e}){if(!e)return;let t={type:"repository",...e},n=(0,e4.a)(t,!1),i=(0,d.z$)(t);return(0,o.jsxs)(o.Fragment,{children:[n&&(0,o.jsx)(n,{className:"mr-1",size:"small"}),(0,o.jsx)("span",{className:"flex-1",children:i})]})}try{e6.displayName||(e6.displayName="TopicLabel")}catch{}try{(i=Icon).displayName||(i.displayName="Icon")}catch{}var e8=n(58665);let e7={Initial:"initial",Complete:"complete"};function e2(){let e=(0,l.Pk)(),{entryPointId:t,chatIsOpen:n,currentRepository:i}=e,r=(0,c.b)(),s=r.getSelectedThread(e),{reloadQuota:a}=(0,eH.x)(),u=(0,eu.Z)(),[p,m]=(0,h.useState)(e7.Initial),x=(0,h.useRef)(null),[f,g]=(0,h.useState)(""),v=function(){let{context:e,currentRepository:t}=(0,l.Pk)();return(0,h.useMemo)(()=>{if(Array.isArray(e)){let t=e.find(e=>"pull-request"===e.type);if(t)return t}return t?{type:"repository",...t}:{type:"global"}},[e,t])}(),j=function(e,t,n){let i=(0,h.useMemo)(()=>void 0===e?[]:(e8.L[e]||[]).filter(e=>void 0===t||!("persona"in e)||void 0===e.persona||e.persona===t),[e,t]);return(0,h.useMemo)(()=>{let e=i.filter(e=>void 0===n||e.name.toLowerCase().startsWith(n.toLowerCase()));return 0===e.length&&n&&e.push({type:"custom",context:"global",iconName:"PaperAirplaneIcon",name:n,prompt:n}),e},[i,n])}(v?.type,v&&"persona"in v?v.persona:void 0,f),{selectedIndex:w,selectPrevious:y,selectNext:_}=function(e){let[t,n]=(0,h.useState)(0);return(0,h.useEffect)(()=>{n(t=>Math.min(t,e))},[e]),{selectedIndex:t,selectPrevious:(0,h.useCallback)(()=>{n(t=>void 0===t?e:t>0?t-1:e)},[e]),selectNext:(0,h.useCallback)(()=>{n(t=>void 0===t?0:t<e?t+1:0)},[e])}}(j.length-1),I=(0,h.useMemo)(()=>e.messages.findLast(e=>"assistant"===e.role),[e.messages]),S=(0,h.useCallback)(e=>{if(m(e7.Initial),g(""),r.closeChat(),"escape"===e){let e=t??em.fv,n=document.getElementById(e),i=window.scrollX,r=window.scrollY;setTimeout(()=>{n?.focus(),window.scrollTo(i,r)},0)}},[r,t]),N=(0,h.useCallback)(e=>{g(e.currentTarget.value),m(e7.Initial)},[]),A=(0,h.useCallback)(async t=>{g(t.name);let n=t.prompt;""!==n.trim()&&(a(),s&&await r.clearThread(s),m(e7.Complete),await r.sendChatMessage({content:n,thread:s,references:e.currentReferences,topic:e.currentRepository,context:e.context,customInstructions:e.customInstructions,intent:t.intent||eN.wh.conversation,modeOverride:"custom"===t.type?"assistive":"task-oriented-assistive"}),setTimeout(()=>{x?.current?.select?.(),window.scrollTo(scrollX,scrollY)},0))},[r,a,e.context,e.currentReferences,e.currentRepository,e.customInstructions,s]),O=(0,h.useCallback)(async()=>{let e=j[w];e&&await A(e)},[w,j,A]),R=(0,h.useCallback)(()=>r.stopStreaming(),[r]),L=(0,h.useCallback)(()=>{s?u(`${d.Jz}/c/${s.id}`):i?u(`${d.Jz}/r/${i.ownerLogin}/${i.name}`):u(d.Jz)},[i,u,s]),D=()=>{if(p!==e7.Initial)return;let e=(0,eG.Z)(v?.type?.replaceAll("-"," ")??"Select an action");return f&&(e="Results found"),j.every(e=>"custom"===e.type)&&(e="No results found"),(0,o.jsx)(e1,{headingText:e,commands:j.map((e,t)=>({...e,selected:t===w})),onSelect:async e=>await A(e)})},T=()=>{let t=e.isWaitingOnCopilot;return(0,o.jsx)("div",{className:"d-flex flex-column",children:(0,o.jsx)(ed.tL,{commands:{"copilot-chat:task-oriented-select-previous":y,"copilot-chat:task-oriented-select-next":_,"copilot-chat:send-message":()=>void O(),"github:cancel":()=>void R(),"copilot-chat:continue-in-immersive":L},children:(0,o.jsx)(ed.tL.LimitKeybindingScope,{commandIds:["copilot-chat:send-message","github:cancel"],children:(0,o.jsx)(eE.A,{ref:x,size:"large",leadingVisual:(0,o.jsx)(e5,{context:v}),trailingVisual:(0,o.jsxs)("div",{className:"d-flex flex-row",children:[t&&(0,o.jsx)(ed.N5,{variant:"invisible",icon:b.SquareFillIcon,className:"fgColor-danger",commandId:"github:cancel"}),(0,o.jsx)("div",{className:e0.copilotAvatar,children:(0,o.jsx)(eQ.Ay,{animationType:t?eQ.Lg.Thinking:eQ.Lg.Idle,loopAnimation:!0,mode:"assistive"})})]}),value:f,onChange:N,disabled:t,placeholder:"Search for actions"})})})})},E=()=>{let t="loading"===e.messagesLoading.state,n="loaded"===e.messagesLoading.state,i="error"===e.messagesLoading.state;return(0,o.jsx)(eJ.$,{children:(0,o.jsxs)(C.A,{className:e0.chatMessageWrapper,sx:{".message-container":{padding:0,display:"block","> :first-child":{display:"none"},".message-actions":{display:"none"}}},children:[t&&(0,o.jsx)(o.Fragment,{children:"Loading..."}),i&&(0,o.jsx)(o.Fragment,{children:"Error..."}),e.isWaitingOnCopilot&&(e.streamingMessage?(0,o.jsx)(eK.c,{message:e.streamingMessage,isStreaming:!0,inputRef:x,excludeFeedback:!0},e.streamingMessage.id):(0,o.jsx)(eZ.r,{lines:3})),n&&!t&&I&&(0,o.jsx)(eK.c,{message:I,isStreaming:I.id===e.streamingMessage?.id,inputRef:x,excludeFeedback:!0},I.id)]})})},P=()=>p===e7.Initial?D():p===e7.Complete?E():void 0,B=()=>p===e7.Initial?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:"Select an action"}),(0,o.jsxs)("div",{className:"d-flex flex-row",children:[(0,o.jsx)(eo.Q,{className:"fgColor-muted",variant:"invisible",onClick:()=>S("close-button"),trailingVisual:(0,o.jsx)(eq.U,{keys:"Esc"}),children:"Close"}),(0,o.jsx)(eo.Q,{className:"fgColor-muted",variant:"invisible",onClick:O,trailingVisual:(0,o.jsx)(ed.hh,{commandId:"copilot-chat:send-message"}),children:"Confirm"})]})]}):p===e7.Complete?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{children:I&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eX.$,{message:I,children:(0,o.jsx)(eY.G,{iconSize:"small",returnFocusRef:x})}),(0,o.jsx)(eU.T,{textToCopy:I.content??"",ariaLabel:"Copy to clipboard"})]})}),(0,o.jsxs)("div",{className:"d-flex flex-row",children:[(0,o.jsx)(eo.Q,{className:"fgColor-muted",variant:"invisible",onClick:()=>S("close-button"),trailingVisual:(0,o.jsx)(eq.U,{keys:"Esc"}),children:"Close"}),(0,o.jsx)(eo.Q,{className:"fgColor-muted",variant:"invisible",onClick:L,trailingVisual:(0,o.jsx)(ed.hh,{commandId:"copilot-chat:continue-in-immersive"}),children:"Continue in Chat"})]})]}):void 0;if(n)return(0,o.jsx)(eP.l,{className:e0.dialog,initialFocusRef:x,onClose:S,renderHeader:()=>(0,o.jsxs)(eP.l.Header,{className:"d-flex flex-row flex-justify-between flex-items-center px-4 pt-2 mr-n3 box-shadow-none",children:[(0,o.jsx)("div",{className:"fgColor-muted",children:(0,o.jsx)(e6,{topic:e.currentRepository})}),(0,o.jsx)("div",{"data-testid":"copilot-assistive-command-window"}),(0,o.jsxs)("div",{children:[(0,o.jsx)(k.K,{size:"small",variant:"invisible",icon:b.ScreenFullIcon,"aria-label":"Take conversation to immersive",disabled:e.isWaitingOnCopilot,onClick:L}),(0,o.jsx)(eP.l.CloseButton,{onClose:()=>S("close-button")})]})]}),renderBody:()=>(0,o.jsxs)(eP.l.Body,{className:"py-1",children:[T(),P()]}),renderFooter:()=>{if(!e.isWaitingOnCopilot)return(0,o.jsx)(eP.l.Footer,{className:"d-flex flex-row flex-justify-between flex-items-center px-3 py-2 fgColor-muted",children:B()})}})}try{e2.displayName||(e2.displayName="CommandWindow")}catch{}var e9=n(63867),e3=n(65481);function te(){let e=(0,l.Pk)(),t=(0,c.b)(),n=(0,h.useMemo)(()=>tr(t.sortThreads(e.threads)),[e.threads,t]),[i,r]=(0,h.useState)(!1),s=(0,h.useRef)(null),a=eA.W.deleteAllConversations;return"loading"===e.threadsLoading.state&&n.length<2?(0,o.jsxs)(C.A,{sx:{p:3,height:"100%",display:"grid",alignItems:"center",alignContent:"center",flexDirection:"column",justifyItems:"center",gap:2},children:[(0,o.jsx)(e9.A,{}),"Loading threads\u2026"]}):(0,o.jsx)(o.Fragment,{children:"error"===e.threadsLoading.state?(0,o.jsx)(tt,{threadsLoading:e.threadsLoading}):(0,o.jsxs)(o.Fragment,{children:[n.length>0&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(eS.l,{sx:{overflowY:"auto"},children:(0,o.jsxs)(eS.l.Group,{children:[(0,o.jsx)(eS.l.GroupHeading,{as:"h3",children:"All conversations"}),(0,o.jsx)(tn,{threads:n,manager:t}),n.length>1&&a&&(0,o.jsx)(ti,{threads:n,manager:t,shouldDeleteAllThreads:i,setShouldDeleteAllThreads:r,returnFocusRef:s})]})})}),0===n.length&&(0,o.jsxs)(C.A,{sx:{p:3,color:"fg.subtle"},children:[(0,o.jsx)("p",{className:"mb-3",children:"There are no conversations at the moment."}),(0,o.jsx)(eo.Q,{onClick:()=>t.selectThread(null),block:!0,children:"Start a new conversation"})]})]})})}let tt=({threadsLoading:e})=>(0,o.jsx)(C.A,{sx:{p:3},children:(0,o.jsxs)(e3.A,{variant:"warning",children:[(0,o.jsx)(P.A,{icon:b.AlertIcon}),"error"===e.state?e.error:"Something went wrong. Please try again later."]})}),tn=({threads:e,manager:t})=>(0,o.jsx)(o.Fragment,{children:e.map(e=>(0,o.jsxs)(eS.l.Item,{onSelect:()=>t.selectThread(e),className:"mr-0 pr-2",children:[(0,o.jsx)(eS.l.LeadingVisual,{children:(0,o.jsx)(b.CommentIcon,{})}),(0,d.CB)(e),(0,o.jsx)(eS.l.Description,{variant:"inline",className:"flex-shrink-0",children:(0,o.jsx)(w.A,{date:new Date(Date.parse(e.updatedAt)),format:"relative"})}),(0,o.jsx)(eS.l.TrailingAction,{icon:b.TrashIcon,label:`Delete conversation: "${(0,d.CB)(e)}"`,onClick:async()=>t.deleteThreadKeepSelection(e)})]},e.id))}),ti=({threads:e,manager:t,shouldDeleteAllThreads:n,setShouldDeleteAllThreads:i,returnFocusRef:r})=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eo.Q,{"data-testid":"delete-all-threads-button",sx:{mt:2,ml:3},ref:r,onClick:()=>i(!0),children:"Delete all conversations"}),!0===n&&(0,o.jsx)("div",{"data-testid":"delete-all-threads-dialog",children:(0,o.jsxs)(eP.l,{title:"Delete all conversations",width:"small",onClose:()=>i(!1),returnFocusRef:r,footerButtons:[{buttonType:"default",content:"Cancel",onClick:()=>i(!1)},{buttonType:"danger",content:"Delete",onClick:async()=>{await t.deleteAllThreadKeepSelection(e),i(!1)},autoFocus:!0}],children:["You are trying to delete ",e.length," conversations. Are you sure? This can\u2019t be undone."]})})]}),tr=e=>eA.W.customCopilotsFilterThreads?e.filter(e=>void 0===e.customCopilotID):e;try{te.displayName||(te.displayName="ThreadListView")}catch{}try{tt.displayName||(tt.displayName="ErrorView")}catch{}try{tn.displayName||(tn.displayName="ListView")}catch{}try{ti.displayName||(ti.displayName="DeleteAll")}catch{}var to=n(91618);function ts(e){let t=(0,h.useRef)(null),n=(0,h.useRef)(null),i=ef.J.selectedThreadID,r=ef.J.getCurrentReferences(i)||[];return(0,o.jsx)(a.LB,{children:(0,o.jsxs)(l.Mj,{topic:e.currentTopic,workerPath:e.findFileWorkerPath,threadId:i,refs:r,mode:"assistive",ssoOrganizations:e.ssoOrganizations,chatIsOpen:!1,chatIsVisible:e.chatIsVisible,chatVisibleSettingPath:e.chatVisibleSettingPath,realIp:e.realIp,copilotChatPayload:e,children:[(0,o.jsx)(tl,{renderPopover:e.renderPopover||!1,ref:t,reactPartialAnchor:e.reactPartialAnchor,inputRef:n}),(0,o.jsx)(ej.cB,{}),(0,o.jsx)(tu,{inputRef:n})]})})}let ta=({notice:e})=>`/settings/dismiss-notice/${e}`,tl=h.forwardRef((e,t)=>{let n=(0,c.b)(),i=(0,l.Pk)(),r=n.getSelectedThread(i),{currentTopic:s,currentView:u}=i,{screenSize:p}=(0,a.lm)(),{licenseType:m}=(0,eH.x)();(0,h.useEffect)(()=>(0,to.HS)(e=>void n.handleOpenPanelEvent(r,e,i.chatIsOpen,s)),[s,r,n,i.chatIsOpen]),(0,h.useEffect)(()=>(0,to.f7)(e=>{n.handleAddReferenceEvent(e)}),[r,n,i.currentReferences]),(0,h.useEffect)(()=>(0,to.Tv)(e=>{n.handleSymbolChangedEvent(e)})),(0,h.useEffect)(()=>(0,to.fD)(e=>{n.handleSearchCopilotEvent(e)}),[n]),(0,h.useEffect)(()=>{let e=new URL(window.location.href,window.location.origin),t=e.searchParams,r=i.selectedThreadID;if("1"===t.get("copilot")&&r){let t=i.threads.get(r)??null;n.openChat(t,u,"immersive",i.chatVisibleSettingPath),e.searchParams.delete("copilot"),(0,et.kd)(e.toString())}},[n,i.selectedThreadID,i.threads,u,i.chatVisibleSettingPath]),(0,h.useEffect)(()=>{i.chatIsVisible&&!ef.J.getCollapsedState()&&p>a.Gy.large&&n.openChat(r,i.currentView,"page load",i.chatVisibleSettingPath)},[]);let x=(0,h.useCallback)(async()=>{if(i.chatIsOpen)e.inputRef.current&&e.inputRef.current.focus();else{if(m===eN.mF.Unlicensed){if(i.chatVisibleSettingPath){let e=new FormData;e.set("copilot_chat_visible","true"),await (0,ei.DI)(i.chatVisibleSettingPath,{method:"PUT",body:e}),ef.J.setCollapsedState(!1)}window.location.replace(`${window.location.origin}/github-copilot/signup?return_to=${window.location.pathname}`);return}n.openChat(r,u,"header",i.chatVisibleSettingPath,(0,d.Z6)(s)?(0,d.qS)(s):void 0)}},[s,u,m,n,e.inputRef,r,i.chatIsOpen,i.chatVisibleSettingPath]);return e.reactPartialAnchor?(0,o.jsxs)(C.A,{sx:{position:"relative"},children:[(0,o.jsx)(tc,{reactPartialAnchor:e.reactPartialAnchor,onClick:x}),e.renderPopover?(0,o.jsx)(td,{renderPopover:!0}):(0,o.jsx)(o.Fragment,{})]}):(0,o.jsxs)(C.A,{sx:{position:"relative"},className:"AppHeader-CopilotChatButton",children:[(0,o.jsx)(es.A,{"aria-label":"Chat with Copilot",direction:"s",children:(0,o.jsx)("div",{children:(0,o.jsx)(k.K,{unsafeDisableTooltip:!0,ref:t,id:em.fv,icon:b.CopilotIcon,"aria-label":"Chat with Copilot","aria-controls":em.wJ,onClick:x,className:"AppHeader-button",sx:{backgroundColor:"transparent",borderColor:"border.default",color:"fg.muted",mb:1,"&:hover":{backgroundColor:"var(--control-transparent-bgColor-hover, var(--color-action-list-item-default-hover-bg))"}},"data-testid":"copilot-chat-button","data-hotkey":"Shift+C","aria-expanded":!1})})}),(0,o.jsx)(td,{renderPopover:e.renderPopover})]})});function tc({reactPartialAnchor:e,onClick:t}){let n=(0,h.useCallback)(e=>{eA.W.headerButtonToImmersive||(e.preventDefault(),t())},[t]);return(0,en.QJ)(e,n),(0,o.jsx)(o.Fragment,{})}function td({renderPopover:e}){let[t,n]=(0,h.useState)(e),i=(0,h.useCallback)(async()=>{n(!1),await (0,ei.DI)(ta({notice:"copilot_chat_new_user_popover"}),{method:"POST"})},[n]);return(0,o.jsx)(er.A,{open:t,caret:"top-right",sx:{right:"-4px"},children:(0,o.jsxs)(er.A.Content,{sx:{marginTop:2},"data-testid":"copilot-chat-cta-popover",children:[(0,o.jsxs)("p",{children:["You now have access to"," ",(0,o.jsx)("a",{href:"https://docs.github.com/enterprise-cloud@latest/copilot/github-copilot-enterprise/overview/about-github-copilot-enterprise",target:"_blank",rel:"noopener noreferrer",children:"Copilot Enterprise"}),". ","Use the Copilot icon to get started."]}),(0,o.jsx)(eo.Q,{"data-testid":"dismiss-copilot-chat-cta-popover",onClick:i,children:"Got it!"})]})})}function tu({inputRef:e}){let t=(0,l.Pk)(),n=(0,c.b)(),i=(0,h.useRef)(null),[r,s]=(0,h.useState)(eN.hs.None),[a,d]=(0,h.useState)(!1),u=(0,h.useRef)(t.messages.length),p=(0,h.useRef)(t.messagesLoading.state),{panelWidth:m,panelHeight:x,startResize:f,onResizerKeyDown:g}=(0,ex.Tz)();return((0,h.useEffect)(()=>{t.messages.length>u.current&&!t.chatIsOpen&&"loaded"===p.current&&d(!0),u.current=t.messages.length,p.current=t.messagesLoading.state},[t.chatIsOpen,t.messages.length,t.messagesLoading.state]),(0,h.useEffect)(()=>{t.chatIsOpen&&a&&d(!1)},[a,t.chatIsOpen]),"copilot-task-oriented-assistive"===t.entryPointId&&eA.W.taskOrientedAssistive)?(0,o.jsx)(e2,{}):(0,o.jsxs)(eC,{staffDialogRef:i,handleClose:e=>{s(eN.hs.None),n.closeChat();let i=t.entryPointId??em.fv;if(e&&i){let e=document.getElementById(i),t=window.scrollX,n=window.scrollY;setTimeout(()=>{e?.focus(),window.scrollTo(t,n)},0)}},showStaffDialog:r,panelWidth:m,panelHeight:x,startResize:f,onResizerKeyDown:g,initialFocusRef:e,children:[(0,o.jsx)(ez,{staffDialogRef:i,showStaffDialog:r,setShowStaffDialog:s,isResponding:t.messages.length<=1&&(!!t.streamingMessage||t.isWaitingOnCopilot),hasUnreadMessages:a,startResize:f}),t.chatIsOpen&&(0,o.jsx)(C.A,{sx:{display:"flex",flexGrow:1,overflowY:"auto"},children:(0,o.jsx)(C.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,maxWidth:"100%"},children:"thread"===t.currentView?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ea.r,{inputRef:e},t.selectedThreadID),(0,o.jsx)(ee,{})]}):(0,o.jsx)(te,{})})})]})}tl.displayName="CopilotHeaderButton",tu.displayName="ChatPanelWithHeader";try{ts.displayName||(ts.displayName="CopilotChat")}catch{}try{tc.displayName||(tc.displayName="ExternalAnchorListener")}catch{}try{td.displayName||(td.displayName="WelcomePopover")}catch{}(0,r.k)("copilot-chat",{Component:ts})},91618:(e,t,n)=>{n.d(t,{HS:()=>o,Oc:()=>r,Tv:()=>l,Xr:()=>SymbolChangedEvent,f7:()=>s,fD:()=>a,qR:()=>i});let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),this.payload=e}};let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,n){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),this.reference=e,this.openPanel=t,this.id=n}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),this.context=e}};function i(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function r(e,t=!1,n){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,n))}function o(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function s(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function a(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function l(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},76797:(e,t,n)=>{n.d(t,{D:()=>i});function i(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e);let t=document.body;if(!t)return Promise.reject(Error());let n=function(e){let t=document.createElement("pre");return t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="5px",t.textContent=e,t}(e);return t.appendChild(n),!function(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e.textContent||"");let t=getSelection();if(null==t)return Promise.reject(Error());t.removeAllRanges();let n=document.createRange();n.selectNodeContents(e),t.addRange(n),document.execCommand("copy"),t.removeAllRanges(),Promise.resolve()}(n),t.removeChild(n),Promise.resolve()}},1090:(e,t,n)=>{n.d(t,{A:()=>i});let i=(e,t)=>{let n=new URL(e,window.location.origin),i=new URL(t,window.location.origin);return i.href.includes("#")&&n.host===i.host&&n.pathname===i.pathname&&n.search===i.search}},2976:(e,t,n)=>{n.d(t,{D7:()=>r,MQ:()=>i,gE:()=>o});let i=e=>{if(e){if(e.startsWith("refs/tags/"))return"tag";if(e.startsWith("refs/heads/"))return"branch"}},r=(e,t)=>"branch"===t?`refs/heads/${e}`:"tag"===t?`refs/tags/${e}`:e,o=e=>{if(!e)return;if(!i(e))return e;let[,,...t]=e.split("/");return t.join("/")}},94232:(e,t,n)=>{n.d(t,{I:()=>s});var i=n(96540),r=n(38568),o=n(18347);function s(e,t,n=[]){let a=(0,i.useCallback)(e,n),l=(0,o.BP)(),c=(0,i.useRef)(l===o.O8.ClientRender),[d,u]=(0,i.useState)(()=>l===o.O8.ClientRender?a():t),h=(0,i.useCallback)(()=>{u(a)},[a]);return(0,r.N)(()=>{c.current||u(a),c.current=!1},[a,...n]),[d,h]}},88782:(e,t,n)=>{n.d(t,{u:()=>s});var i=n(5796),r=n(57572),o=n(96540);function s(e,t,n,s){let[a,l]=(0,o.useState)({loading:!0}),c=t&&e&&n&&s?(0,i.IO9)({repo:{name:t,ownerLogin:e},commitish:n,action:"file-contributors",path:s}):null;return(0,o.useEffect)(()=>{if(!c)return;let e=!1;return(async()=>{l({loading:!0});let t=await (0,r.lS)(c);if(!e)try{t.ok?l({contributors:await t.json()}):l({error:!0})}catch{l({error:!0})}})(),function(){e=!0}},[c]),a}},90524:(e,t,n)=>{n.d(t,{E:()=>h,q:()=>u});var i=n(5225),r=n(5796),o=n(18056),s=n(57572),a=n(96540);async function l(e){let t=await (0,s.lS)(e);return t.ok?await t.json():void 0}let c=new Map,d=(0,i.A)(l,{cache:c});function u(){c.clear()}function h(e,t,n,i){let[s,l]=(0,a.useState)(),[c,h]=(0,a.useState)(!1),[p,m]=(0,a.useState)(!0),x=t&&e&&n&&i?(0,r.IO9)({repo:{name:t,ownerLogin:e},commitish:n,action:"latest-commit",path:i}):null;return(0,a.useEffect)(()=>{let e=new AbortController;return document.addEventListener(o.z.START,u,{signal:e.signal}),()=>{e.abort()}},[]),(0,a.useEffect)(()=>{let e=!1;return(async()=>{if(!x)return;h(!1),m(!0),l(void 0);let t=await d(x);if(!e){try{t?l(t):h(!0)}catch{h(!0)}m(!1)}})(),function(){e=!0}},[x,n]),[s,p,c]}},46928:(e,t,n)=>{n.d(t,{Z:()=>h,o:()=>p});var i=n(96540),r=n(47767),o=n(45588),s=n(84976),a=n(1090),l=n(73081),c=n(58135),d=n(76801),u=n(55048);let h=()=>{let{routes:e}=i.useContext(d.k),t=(0,r.Zp)(),s=(0,u.E)();return i.useCallback((r,s={})=>{let d=(0,o.o1)(r).pathname;if(!(0,o.ue)(e,d)||s.reloadDocument){let e="string"==typeof r?r:(0,o.AO)(r);(async()=>{let{softNavigate:t}=await Promise.all([n.e("vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js"),n.e("ui_packages_soft-navigate_soft-navigate_ts")]).then(n.bind(n,61828));t(e)})()}else{(0,a.A)(location.href,r.toString())||(0,l.SC)("react");let{preventAutofocus:e,...n}=s;(0,i.startTransition)(()=>{t(r,e?{...n,state:{[c.V]:!0,...n.state}}:n)})}},[t,s,e])},p=()=>{let[e]=(0,s.ok)(),t=h(),{pathname:n}=(0,r.zy)(),o=i.useCallback((i,r={})=>{t({pathname:n,search:(0,s.PI)("function"==typeof i?i(e):i).toString()},r)},[e,t,n]);return[e,o]}},80758:(e,t,n)=>{n.d(t,{H:()=>s});var i=n(96540);let r=(e,t,n)=>{let i=t[1]-t[0];return e<t[0]?e:e<t[1]?t[0]+n:e+(n-i)},o=(e,t)=>({...e,nativeEvent:e,target:t,currentTarget:t,preventDefault:()=>e.preventDefault(),isDefaultPrevented:()=>e.defaultPrevented,isPropagationStopped:()=>!1,persist:()=>({})}),s=({inputRef:e,fallbackEventHandler:t})=>(0,i.useCallback)((n,i,s)=>{let a=e.current;if(!a)return;let l=document.activeElement;a.focus();let c=i??[a.selectionStart??a.value.length,a.selectionEnd??a.value.length],d=void 0===s?r(a.selectionStart??a.value.length,c,n.length):Array.isArray(s)?s[0]:s,u=Array.isArray(s)?s[1]:d,h=!1;try{if(document.activeElement!==a)throw Error("Input must be focused to use execCommand");a.setSelectionRange(c[0],c[1]),h=""===n?document.execCommand("delete",!1):document.execCommand("insertText",!1,n),a.setSelectionRange(d,u)}catch{h=!1}if((l instanceof HTMLInputElement||l instanceof HTMLTextAreaElement)&&l.focus(),!h){let i=a.value.slice(0,c[0])+n+a.value.slice(c[1]),r=new InputEvent("input",{bubbles:!1});e.current.value=i,e.current.setSelectionRange(d,u),e.current.dispatchEvent(r),t(o(r,e.current))}},[e,t])},14987:(e,t,n)=>{n.d(t,{l:()=>u});var i=n(74848),r=n(51349),o=n(57572),s=n(96540),a=n(2622),l=n(54912);let c=(0,i.jsxs)("svg",{width:"16",height:"16","aria-hidden":"true",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.65646 10.7C6.15313 9.85483 7.09616 9.3 8 9.3C8.47794 9.3 9.0345 9.50535 9.54632 9.9146C9.83116 10.1424 10.0753 10.4124 10.2645 10.7H5.65646ZM11.8447 11.016C11.3379 9.39273 9.66897 8 8 8C6.30092 8 4.60185 9.23723 4.12902 11.011C3.98676 11.5446 4.44771 12 5 12H11C11.5523 12 12.0093 11.5432 11.8447 11.016Z"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.89649 4.7586C4.02981 4.42529 4.40809 4.26317 4.7414 4.39649L7.00928 5.30364C7.63789 5.55509 7.6379 6.44491 7.00928 6.69636L4.7414 7.60351C4.40809 7.73683 4.02981 7.57471 3.89649 7.2414C3.76317 6.90809 3.92529 6.52981 4.2586 6.39649L5.24982 6L4.2586 5.60351C3.92529 5.47019 3.76317 5.09191 3.89649 4.7586Z"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1035 4.7586C11.9702 4.42529 11.5919 4.26317 11.2586 4.39649L8.99072 5.30364C8.36211 5.55509 8.3621 6.44491 8.99072 6.69636L11.2586 7.60351C11.5919 7.73683 11.9702 7.57471 12.1035 7.2414C12.2368 6.90809 12.0747 6.52981 11.7414 6.39649L10.7502 6L11.7414 5.60351C12.0747 5.47019 12.2368 5.09191 12.1035 4.7586Z"})]}),d=[{name:"Hate it",value:1,icon:c,color:"veryDissatisfied"},{name:"Not great",value:2,icon:(0,i.jsxs)("svg",{width:"16",height:"16","aria-hidden":"true",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,i.jsx)("path",{d:"M6.5 6.5C6.5 7.05228 6.05228 7.5 5.5 7.5C4.94772 7.5 4.5 7.05228 4.5 6.5C4.5 5.94772 4.94772 5.5 5.5 5.5C6.05228 5.5 6.5 5.94772 6.5 6.5Z"}),(0,i.jsx)("path",{d:"M11.5 6.5C11.5 7.05228 11.0523 7.5 10.5 7.5C9.94772 7.5 9.5 7.05228 9.5 6.5C9.5 5.94772 9.94772 5.5 10.5 5.5C11.0523 5.5 11.5 5.94772 11.5 6.5Z"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3416 11.8591C9.33064 10.0058 6.66936 10.0058 5.65842 11.8591C5.46007 12.2228 5.0045 12.3568 4.64086 12.1584C4.27722 11.9601 4.14323 11.5045 4.34158 11.1409C5.92104 8.24518 10.079 8.24518 11.6584 11.1409C11.8568 11.5045 11.7228 11.9601 11.3591 12.1584C10.9955 12.3568 10.5399 12.2228 10.3416 11.8591Z"})]}),color:"dissatisfied"},{name:"It\u2019s ok",value:3,icon:(0,i.jsxs)("svg",{width:"16","aria-hidden":"true",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,i.jsx)("path",{d:"M6.5 6.5C6.5 7.05228 6.05228 7.5 5.5 7.5C4.94772 7.5 4.5 7.05228 4.5 6.5C4.5 5.94772 4.94772 5.5 5.5 5.5C6.05228 5.5 6.5 5.94772 6.5 6.5Z"}),(0,i.jsx)("path",{d:"M11.5 6.5C11.5 7.05228 11.0523 7.5 10.5 7.5C9.94772 7.5 9.5 7.05228 9.5 6.5C9.5 5.94772 9.94772 5.5 10.5 5.5C11.0523 5.5 11.5 5.94772 11.5 6.5Z"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3569 9.61413C9.28933 11.3934 6.71067 11.3934 5.64312 9.61413C5.43001 9.25894 4.96931 9.14377 4.61413 9.35688C4.25894 9.56999 4.14377 10.0307 4.35688 10.3859C6.00704 13.1361 9.99296 13.1361 11.6431 10.3859C11.8562 10.0307 11.7411 9.56999 11.3859 9.35688C11.0307 9.14377 10.57 9.25894 10.3569 9.61413Z"})]}),color:"satisfied"},{name:"Love it",value:4,icon:(0,i.jsxs)("svg",{width:"16","aria-hidden":"true",height:"16",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.65646 10.3C6.15313 11.1452 7.09616 11.7 8 11.7C8.47794 11.7 9.0345 11.4947 9.54632 11.0854C9.83116 10.8576 10.0753 10.5876 10.2645 10.3H5.65646ZM11.8447 9.98403C11.3379 11.6073 9.66897 13 8 13C6.30092 13 4.60185 11.7628 4.12902 9.98904C3.98676 9.45539 4.44771 9 5 9H11C11.5523 9 12.0093 9.45684 11.8447 9.98403Z"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16Z"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3292 6.83541C10.9875 6.15213 10.0125 6.15213 9.67082 6.83541C9.48558 7.20589 9.03507 7.35606 8.66459 7.17082C8.29411 6.98558 8.14394 6.53507 8.32918 6.16459C9.22361 4.37574 11.7764 4.37574 12.6708 6.16459C12.8561 6.53507 12.7059 6.98558 12.3354 7.17082C11.9649 7.35606 11.5144 7.20589 11.3292 6.83541Z"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.32918 6.83541C5.98754 6.15213 5.01246 6.15213 4.67082 6.83541C4.48558 7.20589 4.03507 7.35606 3.66459 7.17082C3.29411 6.98558 3.14394 6.53507 3.32918 6.16459C4.22361 4.37574 6.77639 4.37574 7.67082 6.16459C7.85606 6.53507 7.70589 6.98558 7.33541 7.17082C6.96493 7.35606 6.51442 7.20589 6.32918 6.83541Z"})]}),color:"verySatisfied"}],u=(0,s.forwardRef)(function({mode:e},t){let n=(0,s.useRef)(null),c=(0,s.useRef)(null),u=(0,s.useRef)(void 0);(0,s.useImperativeHandle)(t,()=>({openDialog:e=>{u.current=e,a.W.copilotChatInterviewSurvey?n.current?.openDialog():c.current?.openDialog(e)}}));let h=async(t,n)=>{let i=[];if(null==t&&i.push("Please select a rating."),n.length>2e3&&i.push("Please keep your feedback within 2000 characters or less."),i.length>0)return i;let r={rating:t,content:n,hostname:window.location.hostname,path:window.location.pathname,mode:e};try{(await (0,o.lS)("/github-copilot/feedback",{method:"POST",body:r})).ok||i.push("An error occurred while submitting your feedback.")}catch{i.push("An error occurred while submitting your feedback.")}return i};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.E,{ref:n,onClose:e=>{"no-thanks"===e&&c.current?.openDialog(u.current)}}),(0,i.jsx)(r.N,{ref:c,options:d,onSubmit:h})]})});u.displayName="ConversationFeedbackDialog"},25408:(e,t,n)=>{n.d(t,{Y:()=>I});var i,r=n(74848),o=n(70170),s=n(46988),a=n(53949),l=n(11499),c=n(38568),d=n(57572),u=n(16255),h=n(73451),p=n(19647),m=n(55847),x=n(74144),f=n(96540),g=n(40961),v=n(65615),b=n(7426);let j={footerContainer:"PersonalInstructionsDialog-module__footerContainer--YsPvr"};var C=n(38621),w=n(8338);let y={Role:{tooltip:"Role, domain, style, and focus areas",body:`Your role:
- {role_type} expert in {domain}
- Focus on {key_skill_area}
`},Communication:{tooltip:"Language, tone and format",body:`Communication:
- Write in {tone/language}
- Reference {source_type} documentation
- Structure responses as {format}
`},"Code preferences":{tooltip:"Code style, patterns, and conventions",body:`Code guidelines:
- Use {language} conventions
- Follow {pattern/code_guidelines}
- Optimize for {goal}
`}},_=(0,f.forwardRef)(function(e,t){let{onSelect:n}=e,[i,o]=(0,f.useState)(!1);return(0,r.jsxs)("div",{ref:t,className:"d-inline-flex flex-justify-between position-absolute bgColor-default right-0 left-0 bottom-0 ml-2 mr-3",style:{marginBottom:"1px"},children:[(0,r.jsx)(w.l,{className:"d-inline-flex flex-wrap gap-2 rounded-2",children:i&&Object.entries(y)?.map(([e,t])=>r.jsxs(w.l.Item,{"aria-label":`${t.tooltip}`,className:"mx-0 border fgColor-muted d-inline-block width-auto",onSelect:()=>n(e,t.body),children:[r.jsx(C.PlusIcon,{}),e]},e))}),(0,r.jsx)(w.l,{className:"d-flex flex-column flex-justify-end",children:(0,r.jsx)(w.l.Item,{"aria-label":i?"Hide templates":"Show templates","data-testid":"toggle-templates",className:"fgColor-muted d-inline-block width-auto flex-justify-end mx-0",style:{border:"1px solid transparent"},onSelect:()=>o(!i),children:i?(0,r.jsx)(C.XIcon,{}):(0,r.jsx)(C.LightBulbIcon,{})})})]})});try{_.displayName||(_.displayName="PersonalInstructionsTemplates")}catch{}try{(i=PersonalInstructionsTemplatesWithRef).displayName||(i.displayName="PersonalInstructionsTemplatesWithRef")}catch{}let k=(e,t=500)=>{let[n,i]=(0,f.useState)(48);return(0,f.useEffect)(()=>{let n=(0,o.s)(()=>{e?.current&&i(e.current.clientHeight??48)},t),r=new ResizeObserver(n);return e?.current&&r.observe(e.current),()=>{n.cancel(),r?.disconnect?.()}},[e,t]),n},I=({onDismiss:e,returnFocusRef:t})=>{let n=(0,v.Pk)(),i=(0,b.b)(),[o,C]=(0,f.useState)(n.personalInstructions??""),[w,y]=(0,f.useState)(void 0),[I,N]=(0,f.useState)(!1),A=(0,f.useRef)(null),O=(0,f.useRef)(null),[R,L]=(0,f.useState)(""),D=k(O);(0,c.N)(()=>{A?.current&&(A.current.scrollTop=A.current.scrollHeight)},[o]);let T=(0,f.useCallback)(async()=>{if(!I){N(!0),R&&(0,s.BI)("copilot_personal_instruction_template_usage",{content:R});try{let n=await (0,d.lS)("/copilot/personal_instructions",{method:"POST",body:{prompt:o}});if(n.ok)(0,s.BI)("dotcom_chat.activate",{target:"PERSONAL_INSTRUCTIONS_SAVE",mode:"immersive"}),i.dispatch({type:"SET_PERSONAL_INSTRUCTIONS",personalInstructions:o}),(0,g.flushSync)(()=>e()),t.current?.focus();else{let e=await n.json();y(String(e.errorMessage))}}catch{y("An error occurred while saving your personal instructions.")}finally{N(!1)}}},[I,o,i,e,R]),E=(e,t)=>{t&&(C(o?`${o}
${t}`:t),L(e),A?.current?.focus())},P=()=>{T()},B=(0,f.useCallback)(()=>{(0,s.BI)("dotcom_chat.dismiss",{target:"PERSONAL_INSTRUCTIONS_DISMISS",mode:"immersive"}),(0,g.flushSync)(()=>e()),t.current?.focus()},[e,t]);return(0,r.jsx)(u.Z,{children:(0,r.jsx)(x.l,{onClose:B,title:"Personal instructions",subtitle:"Set up Copilot to align with your workflows and preferences. These instructions will only impact your personal conversation.",width:"large",renderBody:()=>(0,r.jsx)(x.l.Body,{children:(0,r.jsx)("form",{onSubmit:T,children:(0,r.jsxs)(h.A,{children:[(0,r.jsx)(h.A.Label,{visuallyHidden:!0,children:"Instructions"}),(0,r.jsx)("div",{className:"width-full position-relative",children:(0,r.jsxs)(l.tL,{commands:{"github:submit-form":P},children:[(0,r.jsx)(p.Ay,{ref:A,className:"width-full",style:{paddingBottom:`${D}px`},"aria-label":"Prompt",rows:7,name:"prompt",placeholder:"Your instructions",value:o,validationStatus:w||o.length>600?"error":void 0,...(0,a.G)("prompt-input"),onChange:e=>{C(e.target.value),y(void 0)}}),(0,r.jsx)(_,{ref:O,onSelect:E})]})}),(0,r.jsx)(S,{text:o,promptCharLimit:600}),w&&(0,r.jsx)(h.A.Validation,{variant:"error",children:(0,r.jsx)("span",{...(0,a.G)("error-message"),children:w})})]})})}),renderFooter:()=>(0,r.jsxs)("div",{className:j.footerContainer,children:[(0,r.jsx)(m.Q,{variant:"default",onClick:B,children:"Cancel"}),(0,r.jsx)(m.Q,{loading:I,loadingAnnouncement:"Saving personal instructions",variant:"primary",onClick:T,children:"Save"})]})})})};function S({text:e,promptCharLimit:t}){let n=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-tabular-nums",...(0,a.G)("current-character-count"),children:e.length})," ","/ ",t," characters"]});return(0,r.jsx)(r.Fragment,{children:e.length>t?(0,r.jsx)(h.A.Validation,{variant:"error",children:n}):(0,r.jsx)(h.A.Caption,{children:n})})}try{I.displayName||(I.displayName="PersonalInstructionsDialog")}catch{}try{S.displayName||(S.displayName="CharacterCount")}catch{}},57393:(e,t,n)=>{n.d(t,{X:()=>v});var i=n(74848),r=n(38621),o=n(16255),s=n(73451),a=n(19647),l=n(67138),c=n(75177),d=n(46309),u=n(81679),h=n(87330),p=n(55847),m=n(74144),x=n(96540),f=n(37937),g=n(7426);let v=({onDismiss:e,promptDialogRef:t})=>{let n=(0,g.b)(),v=f.J.settings,[b,j]=(0,x.useState)(v?.instructionPrompt||void 0),[C,w]=(0,x.useState)(v?.skillOverrides??[]),[y,_]=(0,x.useState)(v?.temperature||.7),k=(0,x.useRef)(void 0),I=(0,x.useCallback)(async()=>{if(k.current){j(k.current);return}let e=await n.getSystemPrompt();k.current=e,j(e)},[n]);(0,x.useEffect)(()=>{(async()=>{void 0===b&&await I()})()},[I,n,b]);let S=(0,x.useCallback)(()=>{I(),w([]),_(.7)},[I]);return(0,i.jsx)(o.Z,{children:(0,i.jsxs)(m.l,{ref:t,onClose:e,title:"Prompt Settings",width:"xlarge",sx:{overflow:"auto"},children:[(0,i.jsxs)(m.l.Body,{children:[(0,i.jsxs)(s.A,{children:[(0,i.jsx)(s.A.Label,{children:"System Instructions"}),(0,i.jsx)(s.A.Caption,{children:(0,i.jsx)("span",{children:"Make adjustments to the system instructions or add new instructions."})}),(0,i.jsx)(a.Ay,{block:!0,sx:{my:2},"aria-label":"Prompt",name:"Prompt",value:b,onChange:e=>j(e.target.value)})]}),(0,i.jsxs)(s.A,{sx:{pt:3},children:[(0,i.jsx)(s.A.Label,{children:"Temperature"}),(0,i.jsx)(s.A.Caption,{children:"Controls the randomness of the model's responses. Lower temperatures are more deterministic, while higher temperatures are more random."}),(0,i.jsx)(l.A,{type:"number",min:"0",max:"1",step:"0.01",block:!0,value:y,onChange:e=>_(Number(e.target.value))})]}),(0,i.jsx)(c.A,{sx:{fontSize:3,py:3},children:"Tools"}),C.map((e,t)=>(0,i.jsxs)(x.Fragment,{children:[(0,i.jsxs)(d.B,{direction:"horizontal",sx:{py:2},children:[(0,i.jsxs)(s.A,{children:[(0,i.jsx)(s.A.Label,{children:"Name"}),(0,i.jsx)(s.A.Caption,{children:(0,i.jsx)("span",{children:"Slug of tool you want to adjust"})}),(0,i.jsx)(l.A,{defaultValue:e.slug,onChange:e=>{C.map((n,i)=>{i===t&&(n.slug=e.target.value)})}})]}),(0,i.jsxs)(s.A,{children:[(0,i.jsx)(s.A.Label,{children:"Description"}),(0,i.jsx)(s.A.Caption,{children:(0,i.jsx)("span",{children:"Make changes to the tool description"})}),(0,i.jsx)(l.A,{defaultValue:e.description,onChange:n=>{C.map((i,r)=>{r===t&&(e.description=n.target.value)})}})]}),(0,i.jsxs)(s.A,{children:[(0,i.jsx)(s.A.Label,{id:"toggle",children:"Enabled?"}),(0,i.jsx)(u.A,{size:"small","aria-labelledby":"toggle",defaultChecked:e.enabled,onChange:e=>{C.map((n,i)=>{i===t&&(n.enabled=e)})}})]}),(0,i.jsx)(h.K,{icon:r.TrashIcon,"aria-label":"Delete tool",variant:"invisible",sx:{mt:"20px"},onClick:()=>{let e=[...C];1===C.length?w([]):(e.splice(t,1),w(e))}})]}),t===C.length-1&&(0,i.jsx)(p.Q,{leadingVisual:(0,i.jsx)(r.PlusIcon,{}),onClick:()=>w([...C,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add another tool"})]},`tool-${e.slug}-${Math.random()}`)),0===C.length&&(0,i.jsx)(p.Q,{leadingVisual:(0,i.jsx)(r.PlusIcon,{}),onClick:()=>w([...C,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add a tool"})]}),(0,i.jsx)(m.l.Footer,{children:(0,i.jsx)(m.l.Buttons,{buttons:[{type:"button",onClick:e,content:"Cancel"},{type:"button",onClick:S,content:"Reset"},{type:"submit",onClick:()=>{let t=C.filter(e=>e.slug&&e.description);n.setCopilotSettings({instructionPrompt:b||"",skillOverrides:t,temperature:y}),e()},content:"Save",buttonType:"primary"}]})})]})})};try{v.displayName||(v.displayName="PromptDialog")}catch{}},26514:(e,t,n)=>{n.d(t,{T:()=>p});var i=n(74848),r=n(45996),o=n(38621),s=n(87330),a=n(96540),l=n(34164),c=n(42522),d=n(13080),u=n(76797);let h={tooltip:"CopyToClipboardButton-module__tooltip--Dq1IB"};function p({icon:e=o.CopyIcon,size:t="medium",onCopy:n,textToCopy:p,tooltipProps:m,variant:x="invisible",ariaLabel:f,className:g,disabled:v,...b}){let[j,C]=a.useState(!1),w=(0,r.A)(),y=f??`Copy "${p}" to clipboard`,_=j?"Copied!":y,k={size:t,variant:x,onClick:()=>{C(!0),(0,d.i)("Copied!"),(0,u.D)(p),n?.(),setTimeout(()=>w()&&C(!1),2e3)},icon:j?o.CheckIcon:e,className:(0,l.$)(j?"color-fg-success":void 0,g),...b},I=(0,a.useId)();return v?(0,i.jsx)(s.K,{...k,"aria-label":y,disabled:!0}):(0,i.jsx)(c.m,{text:_,"aria-label":y,type:"label",id:I,"aria-hidden":!0,...m,className:(0,l.$)(h.tooltip,m?.className),children:(0,i.jsx)(s.K,{...k,"aria-labelledby":I})})}try{p.displayName||(p.displayName="CopyToClipboardButton")}catch{}},62456:(e,t,n)=>{n.d(t,{r:()=>a});var i=n(74848),r=n(47584),o=n(47258),s=n(96540);let a=(0,s.forwardRef)(function({src:e,size:t=20,...n},a){let l=(0,s.useMemo)(()=>{let n=new URL(e,r.fV.origin);return n.searchParams.has("size")||n.searchParams.has("s")||n.searchParams.set("size",String(2*Number(t))),n.toString()},[e,t]);return(0,i.jsx)(o.A,{ref:a,src:l,size:t,"data-testid":"github-avatar",...n})});try{a.displayName||(a.displayName="GitHubAvatar")}catch{}},70255:(e,t,n)=>{n.d(t,{a:()=>E});var i=n(74848),r=n(70170);let o=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],s=(e,t)=>{let{height:n,top:i,left:r}=function(e,t){let n="mozInnerScreenX"in window,i=document.createElement("div");i.id="input-textarea-caret-position-mirror-div",document.body.appendChild(i);let r=i.style,s=window.getComputedStyle(e),a=isNaN(parseInt(s.lineHeight))?1.2*parseInt(s.fontSize):parseInt(s.lineHeight),l=e instanceof HTMLInputElement;for(let t of(r.whiteSpace=l?"nowrap":"pre-wrap",r.wordWrap=l?"":"break-word",r.position="absolute",o))if(l&&"lineHeight"===t){if("border-box"===s.boxSizing){let e=parseInt(s.height),t=parseInt(s.paddingTop)+parseInt(s.paddingBottom)+parseInt(s.borderTopWidth)+parseInt(s.borderBottomWidth),n=t+a;e>n?r.lineHeight=`${e-t}px`:e===n?r.lineHeight=s.lineHeight:r.lineHeight="0"}else r.lineHeight=s.height}else if(l||"width"!==t||"border-box"!==s.boxSizing)r[t]=s[t];else{let t=parseFloat(s.borderLeftWidth)+parseFloat(s.borderRightWidth),i=n?parseFloat(s.width)-t:e.clientWidth+t;r.width=`${i}px`}n?e.scrollHeight>parseInt(s.height)&&(r.overflowY="scroll"):r.overflow="hidden",i.textContent=e.value.substring(0,t),l&&(i.textContent=i.textContent.replace(/\s/g,"\xa0"));let c=document.createElement("span");c.textContent=l?".":e.value.substring(t)||".",i.appendChild(c);let d={top:c.offsetTop+parseInt(s.borderTopWidth),left:c.offsetLeft+parseInt(s.borderLeftWidth),height:a};return document.body.removeChild(i),d}(e,t);return{height:n,top:i-e.scrollTop,left:r-e.scrollLeft}},a=(e,t)=>{let{top:n,left:i,height:r}=s(e,t),{top:o,left:a}=e.getBoundingClientRect();return{height:r,top:o+n,left:a+i}};var l=n(47584),c=n(80758),d=n(74021),u=n(64515),h=n(16255),p=n(34164),m=n(96540),x=n(35908),f=n(38568);let g=({isOpen:e,listElement:t,inputElement:n,onCommit:i,options:r,tabInsertsSuggestions:o=!1,firstOptionSelectionMode:s="none"})=>{let a=(0,m.useId)(),l=`combobox-${a}__option`,c=(0,m.useRef)(e),[d,u]=(0,m.useState)(null),h=(0,m.useCallback)(()=>[...t?.querySelectorAll("[role=option]")??[]],[t]),p=(0,m.useCallback)(e=>{let t=e.target.getAttribute("data-combobox-list-index"),n=r[null!==t?parseInt(t,10):NaN];n&&i({nativeEvent:e,option:n})},[r,i]),g=(0,m.useCallback)(e=>e.preventDefault(),[]);(0,m.useEffect)(function(){if(n&&t){t.getAttribute("role")||t.setAttribute("role","listbox");let e=new x.A(n,t,{tabInsertsSuggestions:o,firstOptionSelectionMode:s});return u(e),()=>{e.destroy(),u(null)}}},[n,t,o,s]),(0,m.useEffect)(function(){let t=c.current;c.current=e&&null!==d,e!==t&&d&&(e?d.start():d.stop())},[e,d]),(0,m.useEffect)(function(){return t?.addEventListener("combobox-commit",p),()=>t?.removeEventListener("combobox-commit",p)},[p,t]),(0,f.N)(()=>{let e=h();for(let[t,n]of e.entries())(!n.id||n.id.startsWith(l))&&(n.id=`${l}-${t}`),n.setAttribute("data-combobox-list-index",t.toString()),n.addEventListener("mousedown",g);return d?.resetSelection(),()=>{for(let t of e)t.removeEventListener("mousedown",g)}},[h,l,r,d,g])};var v=n(63867),b=n(8338),j=n(45221),C=n(92627);let w={Box_0:"AutocompleteSuggestions-module__Box_0--iBnIs",Overlay_0:"AutocompleteSuggestions-module__Overlay_0--QuLJW",ActionListItem:"AutocompleteSuggestions-module__ActionListItem--jPkc1"},y=new Set([" ","\n"]),_=new Set([".","\n"]),k=(e,t,n)=>{let i=e.sort((e,t)=>t.triggerChar.length-e.triggerChar.length);for(let e=n-1,r="",o=i;e>=0&&o.length>0;e--){let n=t[e]??"";for(let i of(r=n+r,y.has(n)&&(o=o.filter(e=>e.multiWord)),_.has(n)&&(o=o.filter(e=>!e.multiWord)),o.filter(e=>r.startsWith(e.triggerChar)))){let n=t[e-1]??"",s=r[1]??"";if((!n||/[\s([]/.test(n))&&(!s||!/\s/.test(s)))return{trigger:i,query:r.slice(i.triggerChar.length)};o=o.filter(e=>e!==i)}}return null},I=e=>"string"==typeof e?e:e.value,S=e=>"string"==typeof e?e:e.key??e.value,N=(...e)=>t=>{for(let n of[...e].reverse())t.isDefaultPrevented()||n?.(t)},A=()=>(0,i.jsx)("div",{className:w.Box_0,children:(0,i.jsx)(v.A,{size:"small"})}),O=({suggestion:e})=>{let t=I(e),n={id:t,children:t,role:"option",className:w.ActionListItem};return"string"==typeof e?(0,i.jsx)(b.l.Item,{...n}):e.render(n)},R=({suggestions:e,portalName:t,triggerCharCoords:n,onClose:r,onCommit:o,inputRef:s,visible:a,tabInsertsSuggestions:l,defaultPlacement:c,firstOptionSelectionMode:d="active"})=>{let u=(0,m.useRef)(null),[h,p]=(0,m.useState)(null),x=(0,m.useCallback)(({option:e})=>{o(I(e))},[o]);g({isOpen:a&&"loading"!==e,listElement:h,inputElement:s.current,onCommit:x,options:Array.isArray(e)?e:[],tabInsertsSuggestions:l,firstOptionSelectionMode:d});let[f,v]=(0,m.useState)(0);return(0,j.A)(function(){let e=u.current?.offsetHeight??0,t=n.top+n.height,i=t+e>window.innerHeight,r=n.top-e,o=r<0,s={below:i&&!o?r:t,above:o&&!i?t:r}[c];v(Number.isNaN(s)?0:s)},[n.top,n.height,e,a,c]),a?(0,i.jsx)(C.Ay,{onEscape:r,onClickOutside:r,returnFocusRef:s,preventFocusOnOpen:!0,portalContainerName:t,top:f,left:n.left,ref:u,className:w.Overlay_0,children:(0,i.jsx)(b.l,{ref:p,role:"listbox",children:"loading"===e?(0,i.jsx)(A,{}):e?.map(e=>i.jsx(O,{suggestion:e},S(e)))})}):(0,i.jsx)(i.Fragment,{})};R.displayName="SuggestionList";try{A.displayName||(A.displayName="LoadingIndicator")}catch{}try{O.displayName||(O.displayName="SuggestionListItem")}catch{}let L={container:"InlineAutocomplete-module__container--UwGMb",fullWidth:"InlineAutocomplete-module__fullWidth--X6eXo"},D=e=>{try{return e.selectionStart}catch(e){if(e instanceof TypeError)return null;throw e}},T=()=>{},E=({triggers:e,suggestions:t,onShowSuggestions:n,onHideSuggestions:o,onSelectSuggestion:s,style:x,children:f,tabInsertsSuggestions:g=!1,suggestionsPlacement:v="below",firstOptionSelectionMode:b="active",portalName:j,fullWidth:C=!1,...w})=>{let[,y]=(0,m.useState)(0),_=(0,d.Lf)(w),S=(0,m.useRef)(null);(0,u.T)(f.ref??T,S);let A=function(e,t){if(m.Children.only(e),t.current&&!(t.current instanceof HTMLInputElement)&&!(t.current instanceof HTMLTextAreaElement))throw TypeError("AutocompleteTextarea child must be a component that forwards a ref and props to an <input> or <textarea> element.");return e}(f,S),O=(0,c.H)({inputRef:S,fallbackEventHandler:A.props.onChange??T}),E=(0,m.useRef)(null),P=null!==t&&t.length>0;(0,m.useEffect)(()=>{if(P){let e=(0,r.n)(()=>y(e=>e+1),100);return document.addEventListener("scroll",e,{capture:!0}),()=>{document.removeEventListener("scroll",e,{capture:!0})}}},[P]);let B=S.current&&E.current&&P?a(S.current,(D(S.current)??0)-E.current.query.length):{top:0,left:0,height:0},F=(0,m.cloneElement)(A,{..._,onBlur:N(A.props.onBlur,()=>{o()}),onKeyDown:N(A.props.onKeyDown,e=>{P&&("Escape"===e.key||"Tab"===e.key&&!g)&&(o(),e.stopPropagation())}),onChange:N(A.props.onChange,t=>{let i=D(t.currentTarget);if(null===i){o();return}E.current=k(e,t.currentTarget.value,i),E.current?n(E.current):o()}),ref:S}),$=P?"loading"===t?"Loading autocomplete suggestions\u2026":`${t.length} autocomplete ${1===t.length?"suggestion":"suggestions"} available; "${I(t[0])}" is highlighted. Press ${g?"Enter or Tab":"Enter"} to insert.`:"";return(0,i.jsxs)("div",{className:(0,p.$)(L.container,C&&L.fullWidth),style:x,children:[F,l.KJ&&(0,i.jsx)(R,{suggestions:t,inputRef:S,onCommit:e=>{if(!S.current||!E.current)return;let{query:t,trigger:n}=E.current;s?.({suggestion:e,trigger:n,query:t});let i=D(S.current)??0,r=t.length+n.triggerChar.length,a=i-r,l=n.keepTriggerCharOnCommit??!0?n.triggerChar:"",c=n.insertSpaceOnCommit??!0,d=`${l}${e}${c?" ":""}`;o(),O(d,[a,a+r])},onClose:o,triggerCharCoords:B,visible:P,tabInsertsSuggestions:g,defaultPlacement:v,firstOptionSelectionMode:b,portalName:j}),l.KJ&&(0,i.jsx)(h.Z,{children:(0,i.jsx)("span",{"aria-live":"assertive","aria-atomic":!0,style:{clipPath:"circle(0)",position:"absolute"},children:$})})]})};try{E.displayName||(E.displayName="InlineAutocomplete")}catch{}},77731:(e,t,n)=>{n.d(t,{X:()=>a});var i=n(74848),r=n(47139),o=n(40776),s=n(10660);let a=({children:e="Preview",feedbackUrl:t,className:n})=>(0,i.jsx)(s.V,{className:n,label:(0,i.jsx)(r.A,{variant:"success",children:e}),link:t?(0,i.jsx)(o.A,{feedbackUrl:t}):void 0});try{a.displayName||(a.displayName="BetaLabel")}catch{}},40776:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(74848),r=n(34614);let o={link:"FeedbackLink-module__link--uY6Kq"},s=({feedbackUrl:e})=>(0,i.jsx)(r.A,{className:o.link,href:e,children:"Give feedback"});try{s.displayName||(s.displayName="FeedbackLink")}catch{}},10660:(e,t,n)=>{n.d(t,{V:()=>o});var i=n(74848),r=n(46309);let o=({label:e,link:t,className:n})=>t?(0,i.jsxs)(r.B,{direction:"horizontal",gap:"condensed",align:"baseline",className:n,children:[e," ",t]}):n?(0,i.jsx)("span",{className:n,children:e}):(0,i.jsx)(i.Fragment,{children:e});try{o.displayName||(o.displayName="LabelWithLink")}catch{}}},e=>{var t=t=>e(e.s=t);e.O(0,["primer-react","react-core","react-lib","octicons-react","vendors-node_modules_primer_behaviors_dist_esm_index_mjs","vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-41b1a8","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-e7dcdd","vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js","vendors-node_modules_dompurify_dist_purify_es_mjs","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-2906d7","vendors-node_modules_tanstack_query-core_build_modern_queryObserver_js-node_modules_tanstack_-defd52","vendors-node_modules_react-relay_index_js","vendors-node_modules_remark-gfm_lib_index_js-node_modules_remark-parse_lib_index_js-node_modu-44d0fc","vendors-node_modules_highlight_js_es_core_js-node_modules_lowlight_lib_all_js","vendors-node_modules_hastscript_lib_index_js-node_modules_react-markdown_lib_index_js-node_mo-68849e","vendors-node_modules_github_mini-throttle_dist_decorators_js-node_modules_accname_dist_access-a7695e","vendors-node_modules_focus-visible_dist_focus-visible_js-node_modules_fzy_js_index_js-node_mo-08d6cf","vendors-node_modules_github_combobox-nav_dist_index_js-node_modules_github_hotkey_dist_index_-9adaba","ui_packages_failbot_failbot_ts","ui_packages_paths_index_ts","ui_packages_ui-commands_ui-commands_ts","ui_packages_relay-environment_relay-environment_ts-ui_packages_item-picker_components_Reposit-97e2e1","ui_packages_copilot-chat_utils_copilot-chat-helpers_ts","ui_packages_copilot-markdown_MarkdownRenderer_tsx","ui_packages_copilot-chat_utils_CopilotChatContext_tsx","ui_packages_copilot-chat_components_ChatInput_tsx-ui_packages_copilot-chat_components_LegalDi-36d9b7","ui_packages_copilot-chat_hooks_use-chat-message-behavior_ts-ui_packages_copilot-chat_hooks_us-f9f91d","ui_packages_copilot-chat_components_Chat_tsx-ui_packages_icon-button-with-tooltip_IconButtonW-1ba5d9"],()=>t(10529)),e.O()}]);
//# sourceMappingURL=copilot-chat-e68892cc177b.js.map