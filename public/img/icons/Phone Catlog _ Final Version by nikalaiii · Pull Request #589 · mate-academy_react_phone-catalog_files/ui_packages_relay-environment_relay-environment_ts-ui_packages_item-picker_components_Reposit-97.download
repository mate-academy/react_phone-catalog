"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_relay-environment_relay-environment_ts-ui_packages_item-picker_components_Reposit-97e2e1"],{15930:(e,l,a)=>{let n;a.d(l,{H:()=>f});var r=a(10204);let AliveSession=class AliveSession extends r.ib{getUrlFromRefreshUrl(){return i(this.refreshUrl)}constructor(e,l,a,n,r){super(e,()=>this.getUrlFromRefreshUrl(),a,n,void 0,r),this.refreshUrl=l}};async function i(e){let l=await s(e);return l&&l.url&&l.token?t(l.url,l.token):null}async function s(e){let l=await fetch(e,{headers:{Accept:"application/json"}});if(l.ok)return l.json();if(404===l.status)return null;throw Error("fetch error")}async function t(e,l){let a=await fetch(e,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":l}});if(a.ok)return a.text();throw Error("fetch error")}var o=a(70170),u=a(75028),d=a(80688),c=a(23683),g=a(75632);function m(e,l,a){return l in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}function p(e,{channel:l,type:a,data:n}){for(let r of e)r.dispatchEvent(new CustomEvent(`socket:${a}`,{bubbles:!1,cancelable:!1,detail:{name:l,data:n}}))}let y=class AliveSessionProxy{subscribe(e){let l=this.subscriptions.add(...e);l.length&&this.worker.port.postMessage({subscribe:l});let a=new Set(l.map(e=>e.name)),n=e.reduce((e,l)=>{let n=l.topic.name;return(0,r.JR)(n)&&!a.has(n)&&e.add(n),e},new Set);n.size&&this.worker.port.postMessage({requestPresence:Array.from(n)})}unsubscribeAll(...e){let l=this.subscriptions.drain(...e);l.length&&this.worker.port.postMessage({unsubscribe:l});let a=this.presenceMetadata.removeSubscribers(e);this.sendPresenceMetadataUpdate(a)}updatePresenceMetadata(e){let l=new Set;for(let a of e)this.presenceMetadata.setMetadata(a),l.add(a.channelName);this.sendPresenceMetadataUpdate(l)}sendPresenceMetadataUpdate(e){if(!e.size)return;let l=[];for(let a of e)l.push({channelName:a,metadata:this.presenceMetadata.getChannelMetadata(a)});this.worker.port.postMessage({updatePresenceMetadata:l})}online(){this.worker.port.postMessage({online:!0})}offline(){this.worker.port.postMessage({online:!1})}hangup(){this.worker.port.postMessage({hangup:!0})}receive(e){let{channel:l}=e;if("presence"===e.type){let a=this.notifyPresenceDebouncedByChannel.get(l);a||(a=(0,o.s)((e,a)=>{this.notify(e,a),this.notifyPresenceDebouncedByChannel.delete(l)},100),this.notifyPresenceDebouncedByChannel.set(l,a)),a(this.subscriptions.subscribers(l),e);return}this.notify(this.subscriptions.subscribers(l),e)}constructor(e,l,a,n,i,s){m(this,"worker",void 0),m(this,"subscriptions",new r.m0),m(this,"presenceMetadata",new r.VH),m(this,"notify",void 0),m(this,"notifyPresenceDebouncedByChannel",new Map),this.notify=i,this.worker=new SharedWorker(`${e}?module=true`,{name:`github-socket-worker-v3-${n}`,type:"module"}),this.worker.port.onmessage=({data:e})=>this.receive(e),this.worker.port.postMessage({connect:{url:l,refreshUrl:a,options:s}})}};async function h(){let e=function(){let e=document.head.querySelector("link[rel=shared-web-socket-src]")?.getAttribute("href");return e&&e.startsWith("/")?e:null}();if(!e)return;let l=document.head.querySelector("link[rel=shared-web-socket]")?.href??null;if(!l)return;let a=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-refresh-url")??null;if(!a)return;let n=document.head.querySelector("link[rel=shared-web-socket]")?.getAttribute("data-session-id")??null;if(!n)return;let r=(()=>{let r=(0,g.G7)("alive_legacy_retries")?{socketPolicy:{timeout:4e3,attempts:7}}:{};if(!(0,c.nr)()&&"SharedWorker"in window&&"true"!==(0,d.A)("localStorage").getItem("bypassSharedWorker"))try{return new y(e,l,a,n,p,r)}catch{}return new AliveSession(l,a,!1,p,r)})();return window.addEventListener("online",()=>r.online()),window.addEventListener("offline",()=>r.offline()),window.addEventListener("pagehide",()=>{"hangup"in r&&r.hangup()}),r}async function k(){return await u.G,h()}function f(){return n||(n=k())}},88853:(e,l,a)=>{a.d(l,{$:()=>r});var n=a(10204);function r(e,l,a){if(!e)throw Error("Not connected to alive");if(!l)throw Error("No channel name");let r=n.KK.parse(l);if(!r)throw Error("Invalid channel name");let i={subscriber:{dispatchEvent:e=>{e instanceof CustomEvent&&a(e.detail.data)}},topic:r};return e.subscribe([i]),{unsubscribe:()=>e.unsubscribeAll(i.subscriber)}}},56366:(e,l,a)=>{a.d(l,{Av:()=>t,BM:()=>r,Gr:()=>o,HX:()=>c,M_:()=>g,RD:()=>d,rb:()=>i});var n=a(47584);let r="GraphQLTraces",i="GraphQLTracingRefresh",s=decodeURIComponent(new URLSearchParams(n.fV.search).get("disable_clusters")||"").split(",").filter(e=>""!==e);function t(e){if(!n.cg||!o()||!e)return;let l=n.cg;l&&!l[r]&&(l[r]=[]),l&&e.__trace&&(l[r].push(e.__trace),"function"==typeof l[i]&&l[i]())}function o(){let e=n.cg;return"true"===new URLSearchParams(n.fV.search).get("_tracing")||e&&void 0!==e[r]}function u(){return s.length>0}function d(e){if(!o()&&!u())return e;let l=new URL(e,n.fV.origin);return o()&&l.searchParams.set("_tracing","true"),u()&&l.searchParams.set("disable_clusters",s.join(",")),l.pathname+l.search}function c(e){return s.indexOf(e)>-1}function g(e){let l=s.indexOf(e);l>-1?s.splice(l,1):s.push(e);let a=new URLSearchParams(n.fV.search);a.set("disable_clusters",s.join(",")),n.fV.search=a.toString()}},19335:(e,l,a)=>{a.d(l,{S:()=>n});let n={couldNotUpdateAssignees:"Could not update assignees",couldNotSearchAssignees:"Could not search assignees",couldNotUpdateLabels:"Could not update labels",couldNotSearchLabels:"Could not search labels",couldNotUpdateMilestone:"Could not update milestone",couldNotUpdateType:"Could not update type",couldNotSearchMilestones:"Could not search milestones",couldNotUpdateIssueType:"Could not update issue type",couldNotSearchRepositories:"Could not search repositories",couldNotSearchPullRequests:"Could not search pull requests",couldNotSearchProjects:"Could not search projects",couldNotSearchBranches:"Could not search branches",noMatches:"No matches",noResults:"No results",couldNotCreateBranch:"Could not create branch",couldNotCreateLabel:"Could not create label",couldNotCreateMilestone:"Could not create milestone",branchAlreadyExists:e=>`The branch ${e} already exists.`}},20952:(e,l,a)=>{a.d(l,{B:()=>n});let n={itemPickerRootId:"item-picker-root-id",itemPickerTestId:"item-picker-root"}},5979:(e,l,a)=>{a.d(l,{k:()=>n});let n={noAssignees:"Assignee",assignees:"Assignees",assigneesHeader:e=>`Assign up to ${e} people to this issue`,cantEditItems:e=>`Cannot edit ${e} right now`,copilotDisplayName:"Copilot",copilotDescription:"Your AI pair programmer",noLabels:"Label",labels:"Labels",labelsHeader:"Apply labels to this issue",editLabels:"Edit labels",noProjects:"Project",noMilestones:"Milestone",milestonesHeader:"Set milestone",issueHeader:"Choose issue",noIssues:"Issue",noIssueTypes:"Issue Type",filterOrganizations:"Filter organizations",organizationLabel:"Organization",selectAssignees:"Select assignees",selectMilestones:"Select milestone",selectIssue:"Select issue",selectIssueTypes:"Select issue type",typesHeader:"Select issue type",selectProjects:"Select projects",selectLabels:"Select labels",selectRepository:"Select repository",selectBranch:"Select a branch",selectPr:"Select a pull request",searchPr:"Search pull requests",maxPRsLinkingWarning:"You may only link 10 pull requests to this issue across all repositories.",filterUsers:e=>`Filter ${e.toLowerCase()}s`,filterMilestones:"Filter milestones",filterIssueTypes:"Filter issue types",filterProjects:"Filter projects",noPullRequest:"no pull request",milestones:{pastDue:"Past due by",milestoneClosed:"Closed",milestoneDue:"Due by",noDueDate:"No due date",progressPercentage:e=>e?`, ${Math.round(e)}% complete`:", not started"},testIds:{relativeTimeDescription:"relative-time-description"},getNumberOfSelectedPrsLabel:e=>1===e?`${e} pull request selected`:`${e} pull requests selected`,projectItemsLimitReached:"This project reached the maximum number of items allowed currently (1200 items). To add more, please archive or delete existing items from it.",closeButton:"Close dialog",projectItemsLimitReachedDialogLabel:"Project items limit reached dialog",projectItemsLimitReachedDialogTitle:"Project limits reached",projectItemsLimitReachedDialogMessage:"One or more of the projects you selected reached the maximum number of items allowed currently (1200 items). To add more, please archive or delete existing items from the selected project(s).",limitWarning:e=>1===e?`You have reached the limit of ${e} assignee`:`You have reached the limit of ${e} assignees`}},14156:(e,l,a)=>{a.d(l,{Z:()=>n});let n={activePickerOption:e=>`[data-id="${e}"] [data-is-active-descendant="activated-directly"]`}},36538:(e,l,a)=>{a.d(l,{t:()=>n});let n={pickerDebounceTime:200,labelsPageSize:50,labelsInitialLoadCount:100,milestonesPageSize:100,milestonesMaxPreloadCount:1e3,organizationsMaxPreloadCount:1e3,organizationsPageSize:100,maximumSuggestedUsers:30}},26071:(e,l,a)=>{a.d(l,{A2:()=>u,J4:()=>o,Q3:()=>i,v8:()=>s});var n=a(38621),r=a(19335);let i={leadingVisual:n.CircleSlashIcon,text:r.S.noMatches,disabled:!0,selected:void 0,key:"no-matches",id:"no-matches"},s={leadingVisual:n.CircleSlashIcon,text:r.S.noResults,disabled:!0,selected:void 0,key:"no-results",id:"no-results"},t=e=>{try{new URL(e)}catch{return!1}return new RegExp(/^.+\/issues\/\d+$/).test(e)};function o(e,l,a,n,r){let i=e.indexOf("/"),s="in:name archived:false";if(a&&(s=`${s} -repo:${a}`),n&&(s=`${s} fork:true`),r&&"PUBLIC"!==r&&(s=`${s} -visibility:public`),i>0&&2===e.split("/").length){let l=e.split("/")[0],a=e.split("/")[1];return`${s} org:${l} ${a}`}return l?`${s} org:${l} ${e}`:`${s} ${e}`}let u=(e="",l="",a="")=>{let n=e&&`owner:${e.trim()} `,r=a&&`repo:${a.trim()} `,i=l&&`${l.trim()}`,s=t(l),o="in:title",u=i&&"#"===i.charAt(0)?i.slice(1):i;u&&!isNaN(Number(u))&&(o+=" in:number");let d=`${n}${r}is:issue ${o}`;return{commenters:`${d} commenter:@me ${i}`.trim(),mentions:`${d} mentions:@me ${i}`.trim(),assignee:`${d} assignee:@me ${i}`.trim(),author:`${d} author:@me ${i}`.trim(),other:`${d} ${i}`.trim(),resource:s?encodeURI(l):"",queryIsUrl:s}}},79317:(e,l,a)=>{a.d(l,{VB:()=>SSRNetwork,SD:()=>I,E7:()=>P});var n=a(40961),r=a(69487),i=a(56366),s=a(57572),t=a(47584),o=a(42445);let u=["SAML","SERVICE_UNAVAILABLE"],d={FORBIDDEN:["SAML error"],AUTHENTICATION:["Couldn\u2019t authenticate you"]},c={NOT_FOUND:["repository","discussion"]};var g=a(75632);let m=class ValidationError extends Error{constructor(e,l,a){super(e,l),function(e,l,a){l in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a}(this,"catalogService",void 0),this.catalogService=a,this.name="ValidationError"}};async function p(e,l,a){if(e.status>401&&404!==e.status){let n=await e.text(),r={url:e.url,timestamp:new Date().toISOString(),persistedQueryId:l,persistedQueryName:a,failureRequestId:e.headers.get("X-Github-Request-Id")};throw Error(`HTTP error (${e.status}): ${n||"No additional text"}.
    Error Info: ${JSON.stringify(r)}`,{cause:e.status})}}async function y(e,l,a,n="GET",r,i,s,t){return(await h(e,l,a,n,{isSubscription:!1,scope:void 0},r,i,s,t)).response}async function h(e,l,a,n="POST",s={},p,y,f,b){let S=JSON.stringify((0,r.stableCopy)({query:e,variables:a,...s.scopeObject?{scopeObject:s.scopeObject}:{}})),{isSubscription:F,scope:w,subscriptionTopic:K,dispatchTime:v}=s,R=(0,g.G7)("nonreporting_relay_graphql_status_codes"),P=function(e,l,a,n,r,i,s="/_graphql"){let o=[];if("GET"===e&&o.push(`body=${l}`),a&&o.push("subscription=1"),r&&o.push(`scope=${encodeURIComponent(r)}`),n&&o.push(`subscriptionTopic=${encodeURIComponent(n)}`),i&&o.push(`dispatchTime=${encodeURIComponent(i)}`),t.cg){let e=new URL(t.cg.location.href,t.cg.location.origin).searchParams.get("_features");e&&o.push(`_features=${e}`)}return o.length>0?`${s}?${o.join("&")}`:s}(n,encodeURIComponent(S),F,K,w,v,p),I=null;try{let{subscriptionId:a,requestId:r,json:s,status:t}=await k(P,n,e,l,S,y);if(I=a,f&&s.errors){let e=f[t];if(e)for(let a of s.errors){let n=e[a.type];n?.({persistedQueryName:l,errorMessage:a.message})}}let g=function(e,l,a,n){if("errors"in e&&(e.errors.filter(e=>u.includes(e.type)||!!d[e.type]?.includes(e.message)||!(JSON.stringify(c[e.type])!==JSON.stringify(e.path))).map(e=>{console.error(`Failed to fetch data. Please use this request ID when contacting support: ${l} Error: ${e.type}: ${e.message} (path: ${e.path})`)}),e.errors=e.errors.filter(e=>!u.includes(e.type)&&!d[e.type]?.includes(e.message)&&JSON.stringify(c[e.type])!==JSON.stringify(e.path))),"errors"in e&&e.errors.length){let l=e.errors.map(e=>`GraphQL error: ${e.type}: ${e.message} (path: ${e.path})`).join(", "),r=new m(`${l} (Persisted query id: ${a})`,{cause:e.errors},e.extensions?.query_owning_catalog_service);if(n)(0,o.N7)(r),n.error(r);else throw r}if(!("data"in e)){let r=Error(`Expected data property in response: ${JSON.stringify(e)}. persistedQueryId: ${a}, requestId: ${l}`);if(n)(0,o.N7)(r),n.error(r);else throw r}return e}(s,r,e,b);return g&&(0,i.Av)(g),{subscriptionId:I,response:g}}catch(e){if(b)return R&&429===e.cause||(0,o.N7)(e),b.error(e),{subscriptionId:I,response:{errors:[{message:"An error occurred while fetching data. Please try again later."}],extensions:{}}};throw e}}async function k(e,l,a,n,r,s){return f((0,i.RD)(e),l,a,n,r,s)}async function f(e,l,a,n,r,i){let t;let o={};i?.issues_react_perf_test&&(o["X-LUC-Environment"]="issues"),o["X-Requested-With"]="XMLHttpRequest",t="GET"===l?await fetch(e,{method:l,cache:"no-cache",credentials:"include",headers:o}):await (0,s.DI)(e,{method:l,headers:{Accept:"application/json",...o},...r?{body:r}:void 0}),await p(t,a,n);let u=await t.json();return{subscriptionId:t.headers.get("X-Subscription-ID"),requestId:t.headers.get("X-Github-Request-Id")||"",json:u,status:t.status}}let b=[{kind:"linked",handle(e,l,a){if(null!=l&&l.getType()===r.ROOT_TYPE&&"node"===e.name&&a.hasOwnProperty("id"))return a.id}},{kind:"pluralLinked",handle(e,l,a){if(null!=l&&l.getType()===r.ROOT_TYPE&&"nodes"===e.name&&a.hasOwnProperty("ids"))return a.ids}}];var S=a(15930),F=a(88853),w=a(69982);function K(e){return(0,w.unstable_scheduleCallback)(w.unstable_LowPriority,e)}function v(e,l,a){return l in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}let R={cancel:()=>!1,schedule:e=>((0,n.unstable_batchedUpdates)(e),"")};let SSRNetwork=class SSRNetwork{execute(e,l,a){return this.relayNetwork.execute(e,l,a)}getPreloadedSubscriptions(){return this.preloadedSubscriptions}constructor(e,l={},a,n,i,s){v(this,"relayNetwork",void 0),v(this,"ssrPreloadedData",void 0),v(this,"preloadedSubscriptions",void 0),v(this,"warningsShown",void 0),v(this,"enabled_features",void 0),v(this,"maxAge",void 0),v(this,"errorCallbacks",void 0),this.ssrPreloadedData=e,this.enabled_features=l,this.preloadedSubscriptions=a,this.warningsShown=new Set,this.maxAge=i,this.errorCallbacks=s,this.relayNetwork=r.Network.create((e,l)=>r.Observable.create(a=>{let r=function({params:e,variables:l,ssrPreloadedQueries:a,baseUrl:n,emitWarning:r,enabledFeatures:i,maxAge:s,errorCallbacks:o,observer:u}){if(!e.id)throw Error("params has no id property!");if(e.id&&a){let n=JSON.stringify(l),r=a.get(e.id)?.get(n),i=Math.floor(Date.now()/1e3),o=r?.timestamp;if(r&&(u.next(r),!(s&&o&&i>o+s))){u.complete();return}e.metadata?.isRelayRouteRequest&&(0,t.g5)()}let d="mutation"===e.operationKind?"POST":"GET";if(t.KJ)return y(e.id,e.name,l,d,n,i,o,u)}({params:e,variables:l,ssrPreloadedQueries:this.ssrPreloadedData,baseUrl:n,emitWarning:e=>{this.warningsShown.has(e)||(this.warningsShown.add(e),console.warn(e))},enabledFeatures:this.enabled_features,maxAge:i,errorCallbacks:this.errorCallbacks,observer:a});r instanceof Promise&&r.then(e=>{if(!Array.isArray(e)&&"extensions"in e&&e.extensions&&e.extensions.subscriptions){let l=e.extensions.subscriptions;for(let e in l)for(let a in this.preloadedSubscriptions.has(e)||this.preloadedSubscriptions.set(e,new Map),l[e])this.preloadedSubscriptions.get(e)?.set(a,l[e][a])}a.next(e),a.complete()})}),(e,l)=>(function(e,l,a=new Map){let n=e.id,i=e.name;return r.Observable.create(r=>{let s=()=>{},t=!1;return async function(){if(!n)throw Error("unexpected operation with no id!");let u=e.metadata?.scope,d=function(e,l,a,n){let r=n.get(e);if(r)e:for(let[e,n]of r){for(let[n,r]of Object.entries(JSON.parse(e)))if("$scope"===n&&a!==r||l[n]!==r)continue e;return n}}(n,l,u,a),c=null;if(d)c=d.subscriptionId,d.response&&r.next(d.response);else try{let e=await h(n,i,l,"GET",{isSubscription:!0,scope:u});c=e.subscriptionId,e.response&&r.next(e.response)}catch(e){if(e instanceof Error&&e.message.includes("Subscription halted"))return;throw e}try{let e=await (0,S.H)();if(t)return;let a=(0,F.$)(e,c,async({scope_object:e,subscription_topic:a,dispatch_time:s})=>{try{let{response:t}=await h(n,i,{...l},"GET",{isSubscription:!0,scopeObject:e,subscriptionTopic:a,dispatchTime:s,scope:u});t&&r.next(t)}catch(e){(0,o.N7)(e,{message:`Error in fetching update for ${n} with variables ${JSON.stringify(l)}`})}});a?.unsubscribe&&(s=a.unsubscribe)}catch(e){r.error(e)}}(),{get closed(){return t},unsubscribe(){t=!0,s()}}})})(e,l,this.preloadedSubscriptions))}};let P=(e,l)=>{let a=new SSRNetwork(new Map,{},new Map,e,void 0,l),n=new r.Environment({scheduler:R,store:new r.Store(new r.RecordSource,{gcReleaseBufferSize:50,queryCacheExpirationTime:3e5,gcScheduler:K}),getDataID:(e,l)=>{if("Viewer"===l)return null==e.id?(0,r.generateClientID)("client:root","viewer"):e.id;if("ProjectV2SingleSelectFieldOption"===l){let l=[];return e.id&&l.push(e.id),e.name&&l.push(e.name),e.color&&l.push(e.color),e.description&&l.push(function(e){let l=0;if(0===e.length)return l;for(let a=0;a<e.length;a++)l=(l<<5)-l+e.charCodeAt(a)|0;return l}(e.description)),l.join("_")}return e.id},network:a,missingFieldHandlers:b});return n.options={baseUrl:e,getPreloadedSubscriptions:()=>a.getPreloadedSubscriptions()},n};function I({environment:e,query:l,variables:a={}}){let n=(0,r.getRequest)(l),i=(0,r.createOperationDescriptor)(n,a);return e.retain(i),(0,r.fetchQuery)(e,l,a,{fetchPolicy:"store-or-network"})}},55516:(e,l,a)=>{a.d(l,{d:()=>s});var n=a(44492),r=a(23125),i=a(96540);let s=(e,l,{leading:a=!1,maxWait:s,trailing:t=!0,onChangeBehavior:o="flush"}={})=>{let u=(0,n.M)(e),d=(0,i.useMemo)(()=>{let e=void 0===s?{leading:a,trailing:t}:{leading:a,trailing:t,maxWait:s};return(0,r.A)((...e)=>u.current(...e),l,e)},[u,l,a,s,t]);return(0,i.useEffect)(()=>()=>{d?.[o]()},[d,o]),d}},81356:(e,l,a)=>{a.d(l,{AR:()=>i,_N:()=>s});var n=a(38568),r=a(96540);let i={ctrlKey:"ctrlKey",altKey:"altKey",shiftKey:"shiftKey",metaKey:"metaKey"},s=(e,l,a)=>{let s=(0,r.useRef)(l);(0,n.N)(()=>{s.current=l});let t=(0,r.useCallback)(l=>{!([...document.querySelectorAll('#__primerPortalRoot__, [id$="-portal-root"]')].some(function e(l){if(l.clientHeight>0)return!0;for(let a of l.children)if(e(a))return!0;return!1})&&!a?.triggerWhenPortalIsActive||!function(e,l){for(let a of Object.values(i))if(l&&l[a]&&!e[a]||e[a]&&(!l||!l[a]))return!1;return!0}(l,a)&&!a?.ignoreModifierKeys||!a?.triggerWhenInputElementHasFocus&&function(e){return e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLInputElement}(l))&&e.some(e=>/^\d$/.test(e)?l.code===`Digit${e}`:"/"===e?"Slash"===l.code:l.key===e)&&s.current(l)},[e,a]);(0,r.useEffect)(()=>{let e=a?.scopeRef?.current||document;return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)},[t,a?.scopeRef])}},57572:(e,l,a)=>{function n(e,l={}){!function(e){if(new URL(e,window.location.origin).origin!==window.location.origin)throw Error("Can not make cross-origin requests from verifiedFetch")}(e);let a=function(e){let l=new URL(e,window.location.href),a=new URL(window.location.href,window.location.origin),n=a.searchParams.get("_features");n&&!l.searchParams.has("_features")&&l.searchParams.set("_features",n);let r=a.searchParams.get("_tracing");return r&&!l.searchParams.has("_tracing")&&l.searchParams.set("_tracing",r),e.startsWith(window.location.origin)?l.href:`${l.pathname}${l.search}`}(e),r={...l.headers,"GitHub-Verified-Fetch":"true","X-Requested-With":"XMLHttpRequest"};return fetch(a,{...l,headers:r})}function r(e,l){let a={...l?.headers??{},Accept:"application/json","Content-Type":"application/json"},r=l?.body?JSON.stringify(l.body):void 0;return n(e,{...l,body:r,headers:a})}function i(e,l={}){let a={...l.headers,"GitHub-Is-React":"true"};return n(e,{...l,headers:a})}function s(e,l){let a={...l?.headers??{},"GitHub-Is-React":"true"};return r(e,{...l,headers:a})}a.d(l,{DI:()=>n,QJ:()=>i,Sr:()=>s,lS:()=>r})},3893:(e,l,a)=>{a.d(l,{D:()=>y,O:()=>p});var n=a(74848),r=a(81356),i=a(88985),s=a(96540),t=a(67737),o=a(26071),u=a(20952),d=a(14156),c=a(11499),g=a(75632),m=a(15033);function p({items:e,initialSelectedItems:l,placeholderText:a,selectionVariant:p,loading:h,groups:k,filterItems:f,renderAnchor:b,getItemKey:S,convertToItemProps:F,onSelectionChange:w,onOpen:K,onClose:v,height:R="small",width:P="small",selectPanelRef:I,enforceAtleastOneSelected:C,insidePortal:T,maxVisibleItems:L=9,nested:E=!1,resultListAriaLabel:_,title:N,subtitle:A,preventClose:$,triggerOpen:x,initialFilter:D,customNoResultsItem:O,customNoMatchItem:U,footer:M,keybindingCommandId:j,pickerId:V}){let[q,Q]=(0,s.useState)(x??!1),[z,H]=(0,s.useState)([]),[W,B]=(0,s.useState)(D??""),{updateOpenState:G,anyItemPickerOpen:J}=(0,t.t)(),X=(0,s.useId)();V&&(X=V);let Y=(0,g.G7)("issues_react_blur_item_picker_on_close");(0,s.useEffect)(()=>{void 0!==x&&Q(x)},[x]);let Z=(0,s.useCallback)(()=>{J()||q||(Q(!0),K&&K())},[J,q,K]);(0,s.useEffect)(()=>{G(X,q)},[X,q,G]);let ee=(0,s.useMemo)(()=>new Map,[X,l]),el=(0,s.useCallback)((e,l)=>{let a=S(e),n=ee.get(a);if(n)return n;(n=F(e)).selected=l;let r=n.onAction;return n.onAction=(l,n)=>{let i=ee.get(a);if(i){if(i.selected=!i.selected,"single"===p&&e.id!==W)for(let[,e]of ee)e!==i&&(e.selected=!1);r&&r(l,n)}},ee.set(a,n),n},[F,W,S,ee,p]),ea=(0,s.useCallback)(e=>"string"==typeof e?e:S(e),[S]),en=(0,s.useMemo)(()=>{let a=e.map(e=>e.__isNew__?(delete e.__isNew__,U&&ee.delete(S(U)),el(e,!0)):el(e,l.some(l=>ea(l)===S(e))));return 0===a.length?U?[el(U,!1)]:W?[U??o.Q3]:[O??o.v8]:a},[U,e,ee,el,l,ea,S,W,O]);(0,s.useEffect)(()=>{H(en.filter(e=>e.selected))},[en]);let er=(0,s.useMemo)(()=>"single"===p?z[0]:z,[z,p]),ei=(0,s.useCallback)(e=>{if(void 0===e){C||H([]);return}H((Array.isArray(e)?e:[e]).map(e=>en.find(l=>e.id===l.id)).filter(e=>void 0!==e))},[C,en]);(0,r._N)([" "],e=>{if(q){let l=document.querySelector(d.Z.activePickerOption(u.B.itemPickerRootId));if(l){let a=l.getAttribute("data-id"),n=[...ee.values()].find(e=>e.id===a);n&&(e.preventDefault(),e.stopPropagation(),n.selected=!n.selected,H([...ee.values()].filter(e=>e.selected)))}}},{triggerWhenInputElementHasFocus:!0,triggerWhenPortalIsActive:!0});let es=(0,s.useCallback)(e=>{if($&&!e)return;if(Y&&!e&&document.activeElement instanceof HTMLElement&&document.activeElement?.blur(),Q(e),e&&K){K();return}B(""),v&&v();let a=[...ee.values()].filter(e=>e.selected).map(e=>e.source);(a.length!==l.length||a.some(e=>!l.some(l=>ea(l)===S(e))))&&w(a)},[$,v,ee,l,K,ea,S,w,Y]);(0,s.useEffect)(()=>{f(W)},[W,f]);let et=en.length>0;1===en.length&&(en[0].id===o.Q3.id||en[0].id===o.v8.id)&&(et=!1);let eo=(0,s.useMemo)(()=>k&&k?.length>1&&et?{groupMetadata:k}:{},[k,et]),eu=y(T,I,en.length<=L?"auto":R),ed=(0,s.useMemo)(()=>({renderAnchor:b,placeholderText:a,open:q,onOpenChange:es,loading:h,items:en,selected:er,onSelectedChange:ei,filterValue:W,onFilterChange:B,showItemDividers:!0,overlayProps:{width:P,...eu},...eo,"aria-label":_,"data-id":u.B.itemPickerRootId,"data-testid":u.B.itemPickerTestId,title:N,subtitle:A,footer:M}),[b,a,q,es,h,en,er,ei,W,P,eu,eo,_,N,A,M]),ec=(0,g.G7)("item_picker_new_select_panel");return(0,n.jsxs)(m.g,{flags:{primer_react_select_panel_with_modern_action_list:ec},children:[j&&(0,n.jsx)(c.ak,{commands:{[j]:Z}}),(0,n.jsx)(i.X,{anchorRef:E?void 0:I,...ed})]})}function y(e,l,a){let n=e?"large":a;if(!e||!l?.current)return{height:n};let{top:r,left:i}=l.current.getBoundingClientRect(),s=r-436;return s<0?{height:n}:{height:n,top:s,left:i,position:"fixed"}}try{p.displayName||(p.displayName="ItemPicker")}catch{}},10833:(e,l,a)=>{a.d(l,{R6:()=>I,f0:()=>T,ow:()=>L,i_:()=>C,XD:()=>P,m:()=>K,Sy:()=>v,DW:()=>w,Xl:()=>R});var n=a(74848);let r=function(){var e={defaultValue:null,kind:"LocalArgument",name:"name"},l={defaultValue:null,kind:"LocalArgument",name:"owner"},a=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},o={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},u={alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},k={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null}],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null},K={alias:null,args:null,concreteType:"RepositoryPlanFeatures",kind:"LinkedField",name:"planFeatures",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maximumAssignees",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[e,l],kind:"Fragment",metadata:null,name:"RepositoryPickerCurrentRepoQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[n,r,i,s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[r,t,o,u],storageKey:null},d,c,g,m,p,y,h,k,f,b,S,F,w,K],args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,e],kind:"Operation",name:"RepositoryPickerCurrentRepoQuery",selections:[{alias:null,args:a,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[n,r,i,s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,t,o,u,n],storageKey:null},d,c,g,m,p,y,h,k,f,b,S,F,w,K],storageKey:null}]},params:{id:"3b645925e88b3052c533caedc2c62fce",metadata:{},name:"RepositoryPickerCurrentRepoQuery",operationKind:"query",text:null}}}();r.hash="9a52cb1e86ad007165589ba8bfc9e6a1";let i=function(){var e={defaultValue:null,kind:"LocalArgument",name:"hasIssuesEnabled"},l={defaultValue:null,kind:"LocalArgument",name:"owner"},a={defaultValue:10,kind:"LocalArgument",name:"topRepositoriesFirst"},n={kind:"Variable",name:"hasIssuesEnabled",variableName:"hasIssuesEnabled"},r={kind:"Variable",name:"owner",variableName:"owner"},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null};return{fragment:{argumentDefinitions:[e,l,a],kind:"Fragment",metadata:null,name:"RepositoryPickerTopRepositoriesQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[n,r,{kind:"Variable",name:"topRepositoriesFirst",variableName:"topRepositoriesFirst"}],kind:"FragmentSpread",name:"RepositoryPickerTopRepositories"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,e,l],kind:"Operation",name:"RepositoryPickerTopRepositoriesQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"first",variableName:"topRepositoriesFirst"},n,{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"UPDATED_AT"}},r],concreteType:"RepositoryConnection",kind:"LinkedField",name:"topRepositories",plural:!1,selections:[{alias:null,args:null,concreteType:"RepositoryEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"node",plural:!1,selections:[i,s,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},{alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null},{alias:null,args:null,concreteType:"RepositoryPlanFeatures",kind:"LinkedField",name:"planFeatures",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maximumAssignees",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},i],storageKey:null}]},params:{id:"8ec51ba4a2387c9b33f4f351386b63af",metadata:{},name:"RepositoryPickerTopRepositoriesQuery",operationKind:"query",text:null}}}();i.hash="73e96d7c429663ba233d926c532b97e4";let s=function(){var e={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null};return{argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"hasIssuesEnabled"},{defaultValue:null,kind:"LocalArgument",name:"owner"},{defaultValue:10,kind:"LocalArgument",name:"topRepositoriesFirst"}],kind:"Fragment",metadata:null,name:"RepositoryPickerTopRepositories",selections:[{alias:null,args:[{kind:"Variable",name:"first",variableName:"topRepositoriesFirst"},{kind:"Variable",name:"hasIssuesEnabled",variableName:"hasIssuesEnabled"},{kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"UPDATED_AT"}},{kind:"Variable",name:"owner",variableName:"owner"}],concreteType:"RepositoryConnection",kind:"LinkedField",name:"topRepositories",plural:!1,selections:[{alias:null,args:null,concreteType:"RepositoryEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},{alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},{alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null},{alias:null,args:null,concreteType:"RepositoryPlanFeatures",kind:"LinkedField",name:"planFeatures",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maximumAssignees",storageKey:null}],storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"User",abstractKey:null}}();s.hash="d57ff072515ddc886c611e82b42e0bde";let t=function(){var e={defaultValue:null,kind:"LocalArgument",name:"after"},l={defaultValue:null,kind:"LocalArgument",name:"searchQuery"},a=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Literal",name:"first",value:10},{kind:"Variable",name:"query",variableName:"searchQuery"},{kind:"Literal",name:"type",value:"REPOSITORY"}],n={alias:null,args:null,kind:"ScalarField",name:"repositoryCount",storageKey:null},r={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},d={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},c={alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},b={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null}],storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null},R={alias:null,args:null,concreteType:"RepositoryPlanFeatures",kind:"LinkedField",name:"planFeatures",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maximumAssignees",storageKey:null}],storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:[e,l],kind:"Fragment",metadata:null,name:"RepositoryPickerSearchRepositoriesQuery",selections:[{alias:null,args:a,concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:[n,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:[{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[i,s,t,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[s,u,d,c],storageKey:null},g,m,p,y,h,k,f,b,S,F,w,K,v,R],args:null,argumentDefinitions:[]}],type:"Repository",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,e],kind:"Operation",name:"RepositoryPickerSearchRepositoriesQuery",selections:[{alias:null,args:a,concreteType:"SearchResultItemConnection",kind:"LinkedField",name:"search",plural:!1,selections:[n,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[P,{kind:"InlineFragment",selections:[i,s,t,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[P,s,u,d,c,i],storageKey:null},g,m,p,y,h,k,f,b,S,F,w,K,v,R],type:"Repository",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:null}]},params:{id:"74433dc1b5de623176b0d99a13b3d711",metadata:{},name:"RepositoryPickerSearchRepositoriesQuery",operationKind:"query",text:null}}}();t.hash="725e16a49931497bfc9fa961f3c8721a";let o=function(){var e={defaultValue:null,kind:"LocalArgument",name:"issueId"},l={defaultValue:null,kind:"LocalArgument",name:"searchQuery"},a=[{kind:"Variable",name:"id",variableName:"issueId"}],n=[{kind:"Literal",name:"first",value:10},{kind:"Variable",name:"query",variableName:"searchQuery"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"databaseId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"nameWithOwner",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},u={alias:null,args:[{kind:"Literal",name:"size",value:64}],kind:"ScalarField",name:"avatarUrl",storageKey:"avatarUrl(size:64)"},d={alias:null,args:null,kind:"ScalarField",name:"issueTypesEnabled",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"isPrivate",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"isArchived",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"isInOrganization",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"hasIssuesEnabled",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"slashCommandsEnabled",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"viewerCanPush",storageKey:null},f={alias:null,args:null,concreteType:"IssueCreationPermissions",kind:"LinkedField",name:"viewerIssueCreationPermissions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labelable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"milestoneable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assignable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triageable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeable",storageKey:null}],storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"securityPolicyUrl",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"contributingFileUrl",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"codeOfConductFileUrl",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"supportFileUrl",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"shortDescriptionHTML",storageKey:null},v={alias:null,args:null,concreteType:"RepositoryPlanFeatures",kind:"LinkedField",name:"planFeatures",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maximumAssignees",storageKey:null}],storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:[e,l],kind:"Fragment",metadata:null,name:"RepositoryPickerPossibleTransferRepositoriesQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:n,concreteType:"RepositoryConnection",kind:"LinkedField",name:"possibleTransferRepositoriesForViewer",plural:!1,selections:[{alias:null,args:null,concreteType:"RepositoryEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"RepositoryPickerRepository",selections:[r,i,s,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[i,o,u,d],storageKey:null},c,g,m,p,y,h,k,f,b,S,F,w,K,v],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[l,e],kind:"Operation",name:"RepositoryPickerPossibleTransferRepositoriesQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[R,{kind:"InlineFragment",selections:[{alias:null,args:n,concreteType:"RepositoryConnection",kind:"LinkedField",name:"possibleTransferRepositoriesForViewer",plural:!1,selections:[{alias:null,args:null,concreteType:"RepositoryEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"node",plural:!1,selections:[r,i,s,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[R,i,o,u,d,r],storageKey:null},c,g,m,p,y,h,k,f,b,S,F,w,K,v],storageKey:null}],storageKey:null}],storageKey:null}],type:"Issue",abstractKey:null},r],storageKey:null}]},params:{id:"9578086ede6db105474914fd297469c6",metadata:{},name:"RepositoryPickerPossibleTransferRepositoriesQuery",operationKind:"query",text:null}}}();o.hash="1ef5b2852bfdfa6a351139b04aa4fefc";let u={kind:"InlineDataFragment",name:"RepositoryPickerRepository"};u.hash="e31237096ae86e5a646e0f4e4c6c598c";var d=a(55516),c=a(67136),g=a(38621),m=a(55847),p=a(75177),y=a(96540),h=a(18312),k=a(19335),f=a(5979),b=a(3893),S=a(26071),F=a(36538);let w=(e,l="",a="")=>(0,h.fetchQuery)(e,r,{owner:l,name:a},{fetchPolicy:"store-or-network"}),K=i,v=s,R=(e,l=10,a)=>(0,h.fetchQuery)(e,K,{topRepositoriesFirst:l,hasIssuesEnabled:a},{fetchPolicy:"store-or-network"}),P=t,I=u,C=()=>(0,n.jsx)(m.Q,{leadingVisual:g.RepoIcon,trailingVisual:g.TriangleDownIcon,disabled:!0,children:f.k.selectRepository});function T({topReposQueryRef:e,...l}){let a=(0,h.usePreloadedQuery)(K,e);return a.viewer?(0,n.jsx)(L,{...l,topRepositoriesData:a.viewer}):null}function L({initialRepository:e,onSelect:l,preventDefault:a,organization:r,topRepositoriesData:i,focusRepositoryPicker:s,enforceAtleastOneSelected:t,options:{hasIssuesEnabled:u,readonly:w,includeForks:K}={hasIssuesEnabled:void 0,readonly:!1,includeForks:!1},renderTrailingVisual:R,exclude:C,"aria-labelledby":T,"aria-describedby":L,anchorElement:E,title:_,subtitle:N,preventClose:A,triggerOpen:$,onOpen:x,onClose:D,ignoredRepositories:O,repositoryFilter:U,customNoResultsItem:M,repoNameOnly:j,pickerId:V,currentRepoVisibility:q,issueId:Q}){let{addToast:z}=(0,c.Y6)(),[H,W]=(0,y.useState)(""),[B,G]=(0,y.useState)(void 0),[J,X]=(0,y.useState)(null==i),Y=(0,y.useRef)(H);(0,y.useEffect)(()=>{null!=i&&X(!1)},[i]);let Z=(0,h.useRelayEnvironment)(),ee=(0,y.useCallback)(e=>{if(Q){if(""===e.trim()){G(void 0),X(!1);return}X(!0),(0,h.fetchQuery)(Z,o,{searchQuery:e,issueId:Q}).subscribe({next:l=>{if(null!==l){let a=(l.node?.possibleTransferRepositoriesForViewer?.edges||[]).flatMap(e=>e?.node?[(0,h.readInlineData)(I,e.node)]:[]),n=Y.current;e.trim()===n.trim()&&(G(a),X(!1))}},error:()=>{X(!1)}})}},[Z,Q]),el=(0,y.useCallback)((e,l)=>{if(""===e.trim()){G(void 0),X(!1);return}X(!0),(0,h.fetchQuery)(Z,P,{searchQuery:(0,S.J4)(e,r,C,K,q)}).subscribe({next:a=>{if(null!==a){let n=(a.search.nodes||[]).flatMap(e=>e?[(0,h.readInlineData)(I,e)]:[]);u&&(n=n.filter(e=>e.hasIssuesEnabled===u));let r=n.sort((e,a)=>l.includes(e.owner.login)&&!l.includes(a.owner.login)?-1:!l.includes(e.owner.login)&&l.includes(a.owner.login)?1:e.owner.login.localeCompare(a.owner.login));if(O){let e=new Set(O);r=r.filter(l=>!e.has(l.nameWithOwner))}U&&(r=r.filter(U));let i=Y.current;e.trim()===i.trim()&&(G(r),X(!1))}},error:()=>{X(!1),z({type:"error",message:k.S.couldNotSearchRepositories})}})},[Z,r,C,K,u,O,U,z,q]),ea=(0,d.d)(e=>{Q?ee(e):el(e,eu)},F.t.pickerDebounceTime),en=(0,y.useCallback)(e=>e.id,[]),er=(0,y.useRef)(null);(0,y.useEffect)(()=>{s&&er.current?.focus()},[er,s]);let ei=(0,y.useCallback)(({...l})=>E?E(l):(0,n.jsx)(m.Q,{leadingVisual:g.RepoIcon,trailingVisual:g.TriangleDownIcon,"aria-label":T?void 0:f.k.selectRepository,"aria-labelledby":T,"aria-describedby":L,...l,disabled:w,ref:er,children:e?(0,n.jsx)("span",{children:j?e.name:`${e.owner.login}/${e.name}`}):f.k.selectRepository}),[E,L,T,e,w,j]),es=(0,y.useCallback)(e=>({id:`${e.id}_${e.databaseId}_${e.slashCommandsEnabled}`,children:(0,n.jsx)("span",{children:j?e.name:`${e.owner.login}/${e.name}`}),source:e,leadingVisual:()=>e.isPrivate?(0,n.jsx)(g.LockIcon,{size:12}):(0,n.jsx)(g.RepoIcon,{size:12}),trailingVisual:R?.(e.id),sx:{wordBreak:"break-word"}}),[R,j]),et=(0,h.useFragment)(v,i),eo=(0,y.useMemo)(()=>{let l=(et?.topRepositories.edges||[]).flatMap(e=>e?.node?[(0,h.readInlineData)(I,e.node)]:[]);if(e&&!l.find(l=>l.id===e.id)&&(l=[e,...l]),r&&(l=l.filter(e=>e.owner.login===r)),C&&(l=l.filter(e=>e.nameWithOwner!==C)),O){let e=new Set(O);l=l.filter(l=>!e.has(l.nameWithOwner))}return l.slice(0,10)},[C,e,r,O,et]),eu=(0,y.useMemo)(()=>[...new Set(eo.map(e=>e.owner.login))],[eo]),ed=(0,y.useMemo)(()=>{if(B)return B;let e=eo.filter(e=>!e.isArchived);return U?e.filter(U):e},[eo,U,B]);(0,y.useEffect)(()=>{e||!(ed.length>0)||a||l(ed[0])},[]);let ec=(0,y.useCallback)(e=>{if(w)return;let l=e.trim();H!==l&&(ea(l),W(l),Y.current=l)},[w,H,ea]);return(0,n.jsx)(p.A,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:1},children:(0,n.jsx)(b.O,{items:ed,initialSelectedItems:e?[e]:[],filterItems:ec,getItemKey:en,convertToItemProps:es,placeholderText:f.k.selectRepository,selectionVariant:"single",onSelectionChange:([e])=>l(e),loading:J,renderAnchor:ei,selectPanelRef:er,enforceAtleastOneSelected:t,resultListAriaLabel:"Repository results",height:"large",width:"medium",title:_,subtitle:N,preventClose:A,triggerOpen:$,onOpen:x,onClose:D,customNoResultsItem:M?{children:M}:void 0,pickerId:V})})}try{C.displayName||(C.displayName="RepositoryPickerPlaceholder")}catch{}try{T.displayName||(T.displayName="RepositoryPicker")}catch{}try{L.displayName||(L.displayName="RepositoryPickerInternal")}catch{}},67737:(e,l,a)=>{a.d(l,{D:()=>s,t:()=>t});var n=a(74848),r=a(96540);let i=(0,r.createContext)({updateOpenState:()=>void 0,anyItemPickerOpen:()=>!1});function s({children:e}){let l=(0,r.useRef)({}),a=(0,r.useCallback)((e,a)=>{let n=l.current;return n[e]===a||(l.current={...n,[e]:a}),l.current},[]),s=(0,r.useCallback)(()=>Object.values(l.current).some(e=>e),[l]),t=(0,r.useMemo)(()=>({updateOpenState:a,anyItemPickerOpen:s}),[s,a]);return(0,n.jsx)(i.Provider,{value:t,children:e})}function t(){let e=(0,r.useContext)(i);if(!e)throw Error("useItemPickersContext must be used within a ItemPickersContextProvider.");return e}try{i.displayName||(i.displayName="ItemPickersContext")}catch{}try{s.displayName||(s.displayName="ItemPickersContextProvider")}catch{}}}]);
//# sourceMappingURL=ui_packages_relay-environment_relay-environment_ts-ui_packages_item-picker_components_Reposit-97e2e1-f8d0b1b75aa7.js.map