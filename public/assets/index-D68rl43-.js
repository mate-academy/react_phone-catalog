import{r as c,G as p,j as t,L as j,c as N,I as d,i as _,a as g}from"./index-DZu0jUOh.js";import{B as C}from"./ButtonBack-DRk2FjGf.js";const x=c.memo(({cartProduct:{id:e,product:{name:n,price:r,image:i,category:m},quantity:a}})=>{const{updateQuantity:o,theme:s}=c.useContext(p),l=c.useMemo(()=>r*a,[r,a]);return t.jsxs("div",{className:"cartItem",children:[t.jsxs("div",{className:"cartItem__wrapperTop",children:[t.jsx("button",{className:"cartItem__icon-close",onClick:()=>o(e,0)}),t.jsxs(j,{to:`/${m}/${e}`,className:"cartItem__link",children:[t.jsx("img",{src:i,alt:"Image product",className:"cartItem__image"}),t.jsx("div",{className:"cartItem__title",children:n})]})]}),t.jsxs("div",{className:"cartItem__wrapperBottom",children:[t.jsxs("div",{className:"cartItem__counter-container",children:[t.jsx("button",{className:N("cartItem__button",{"cartItem__button--disabled":a===1}),onClick:()=>{a>1&&o(e,a-1)},children:a===1?t.jsx(d,{icon:_.minus__disabled[s]}):t.jsx(d,{icon:_.minus[s]})}),t.jsx("div",{className:"cartItem__counter",children:a}),t.jsx("button",{className:"cartItem__button",onClick:()=>o(e,a+1),children:t.jsx(d,{icon:_.plus[s]})})]}),t.jsx("div",{className:"cartItem__price",children:`$${l}`})]})]})});x.displayName="CartItem";const v=()=>{const{cart:e,clearShoppingCart:n}=c.useContext(p),{pathname:r}=g(),i=c.useMemo(()=>r.slice(1,2).toUpperCase()+r.slice(2),[r]),{totalCount:m,totalQuantity:a}=c.useMemo(()=>{let s=0,l=0;for(const{quantity:u,product:{price:h}}of e)s+=u,l+=u*h;return{totalQuantity:s,totalCount:l}},[e]),o=c.useCallback(()=>{confirm("Checkout is not implemented yet. Do you want to clear the Cart?")&&n()},[n]);return t.jsxs("div",{className:"cartPage",children:[t.jsx(C,{}),t.jsx("h1",{className:"cartPage__title",children:i}),e.length?null:t.jsxs("div",{className:"cartPage__empty-content",children:[t.jsx("span",{className:"cartPage__empty-content-title",children:"Your cart is empty"}),t.jsx("img",{src:"img/cart-is-empty.png",alt:"Empty shopping cart",className:"cartPage__image-empty"})]}),e.length?t.jsxs("div",{className:"cartPage__content",children:[t.jsx("div",{className:"cartPage__content-container",children:e.map(s=>t.jsx(x,{cartProduct:s},s.id))}),t.jsxs("div",{className:"cartPage__total",children:[t.jsxs("div",{className:"cartPage__total-count",children:["$",m]}),t.jsxs("div",{className:"cartPage__total-title",children:["Total for ",a," items"]}),t.jsx("div",{className:"cartPage__line"}),t.jsx("button",{className:"cartPage__button-checkout",onClick:o,children:"Checkout"})]})]}):null]})};export{v as ShoppingCartPage};
