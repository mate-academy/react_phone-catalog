import{r as c,G as C,j as e,c as g,N as S,I as f,i as k,b as I,a as L,g as D,L as T}from"./index-DZu0jUOh.js";import{L as E}from"./Linkline-BVE7q3mI.js";import{P as M}from"./ProductsSlider-CeN1XtqL.js";import{B as R}from"./ButtonBack-DRk2FjGf.js";import{L as G}from"./Loader-CdfK6LLs.js";import"./ProductCard-n_G8EIMu.js";const w={graphite:"#383838",gold:"#FFD700",sierrablue:"#6CABDD",black:"#000000",rosegold:"#B76E79",silver:"#C0C0C0",spacegray:"#4B4F54",white:"#FFFFFF",yellow:"#FFFF00",red:"#FF0000",coral:"#FF7F50",midnight:"#2C3E50",purple:"#800080",spaceblack:"#1D1D1D",blue:"#0000FF",pink:"#FFC0CB",green:"#008000",midnightgreen:"#004953"},y=(s,l)=>s.find(t=>t.itemId===l),z=({selectedProduct:s,specificProducts:l})=>{const{allProducts:t,cart:n,favorites:r,toggleFavorites:P,addToCart:h,theme:p}=c.useContext(C),[x,o]=c.useState(0),_=c.useCallback(a=>{const i=y(t,a.id);i&&h(i)},[h,t]),N=c.useCallback(a=>{const i=y(t,a.id);i&&P(i)},[t,P]),m=c.useCallback((a,i)=>{const{color:F,namespaceId:$,capacity:A}=s,u=l.find(({color:v,namespaceId:B,capacity:b})=>B===$&&(a==="color"&&v===i&&b===A||a==="capacity"&&b===i&&v===F));return(u==null?void 0:u.id)??""},[s,l]),d=c.useMemo(()=>n.some(a=>a.id===s.id),[n,s.id]),j=c.useMemo(()=>r.some(a=>a.itemId===s.id),[r,s.id]);return e.jsxs("div",{className:"detailsPage__content-top",children:[e.jsx("div",{className:"detailsPage__container-imageSlider",children:s.images.map((a,i)=>e.jsx("div",{className:g("detailsPage__container-photos",{"detailsPage__container-photos--active":x===i}),children:e.jsx("img",{src:`./${a}`,alt:`Thumbnail ${i+1}`,className:"detailsPage__photo",onClick:()=>o(i)})},i))}),e.jsx("div",{className:"detailsPage__photo-mask",children:s.images.map((a,i)=>e.jsx("img",{src:`./${a}`,alt:`Selected Photo ${i+1}`,className:g("detailsPage__image",{"detailsPage__image--active":x===i})},i))}),e.jsxs("div",{className:"detailsPage__characteristics",children:[e.jsxs("div",{className:"detailsPage__colors",children:[e.jsx("span",{className:`
              detailsPage__colors-title detailsPage__info`,children:"Available colors"}),e.jsx("ul",{className:"detailsPage__colors-list",children:s.colorsAvailable.map(a=>e.jsx(S,{to:`/${s.category}/${m("color",a)}`,children:e.jsx("li",{className:g("detailsPage__color-item",{"detailsPage__color-item--selected":s.color===a}),children:e.jsx("span",{className:"detailsPage__color-circle",style:{backgroundColor:w[a]}})},a)},a))})]}),e.jsx("div",{className:"detailsPage__line"}),e.jsxs("div",{className:"detailsPage__capacity",children:[e.jsx("span",{className:`
                detailsPage__capacity-title detailsPage__info`,children:"Select capacity"}),e.jsx("ul",{className:"detailsPage__capacity-list",children:s.capacityAvailable.map(a=>e.jsx(S,{to:`/${s.category}/${m("capacity",a)}`,style:{textDecoration:"none"},children:e.jsx("li",{className:g("detailsPage__capacity-item",{"detailsPage__capacity-item--selected":s.capacity===a}),children:e.jsx("span",{className:g("detailsPage__capacity-block",{"detailsPage__capacity-block--selected":s.capacity===a}),children:a.split("GB").join(" GB")})},a)},a))})]}),e.jsx("div",{className:"detailsPage__line"}),e.jsxs("div",{className:"detailsPage__container-price",children:[e.jsx("span",{className:"detailsPage__price-discount",children:`$${s.priceDiscount}`}),e.jsx("span",{className:"detailsPage__price-regular",children:`$${s.priceRegular}`})]}),e.jsxs("div",{className:"detailsPage__container-buttons",children:[e.jsx("button",{className:g("detailsPage__button","detailsPage__button-card",{"detailsPage__button-card--active":d}),onClick:()=>_(s),children:d?"Added":"Add to cart"}),e.jsx("button",{className:g("detailsPage__button","detailsPage__button-favorites",{"detailsPage__button-favorites--active":j}),onClick:()=>N(s),children:j?e.jsx(f,{icon:k.favorites__filled[p]}):e.jsx(f,{icon:k.favorites[p]})})]}),e.jsxs("div",{className:"detailsPage__container-specifications",children:[e.jsxs("div",{className:"detailsPage__block",children:[e.jsx("span",{className:"detailsPage__info",children:"Screen"}),e.jsx("span",{className:"detailsPage__value",children:s.screen})]}),e.jsxs("div",{className:"detailsPage__block",children:[e.jsx("span",{className:"detailsPage__info",children:"Resolution"}),e.jsx("span",{className:"detailsPage__value",children:s.resolution})]}),e.jsxs("div",{className:"detailsPage__block",children:[e.jsx("span",{className:"detailsPage__info",children:"Processor"}),e.jsx("span",{className:"detailsPage__value",children:s.processor})]}),e.jsxs("div",{className:"detailsPage__block",children:[e.jsx("span",{className:"detailsPage__info",children:"RAM"}),e.jsx("span",{className:"detailsPage__value",children:s.ram})]})]})]})]})},H=({selectedProduct:s})=>e.jsxs("div",{className:"detailsPage__content-buttom",children:[e.jsxs("div",{className:"detailsPage__block-about",children:[e.jsx("h3",{className:"detailsPage__block-title",children:"About"}),e.jsx("div",{className:"detailsPage__line-bottom"}),e.jsx("div",{className:"detailsPage__description",children:s.description.map((l,t)=>e.jsxs("div",{className:"detailsPage__section",children:[e.jsx("span",{className:"detailsPage__section-title",children:l.title}),e.jsx("span",{className:"detailsPage__section-description",children:l.text})]},t))})]}),e.jsxs("div",{className:"detailsPage__block-techSpecs",children:[e.jsx("h3",{className:"detailsPage__block-title",children:"Tech specs"}),e.jsx("div",{className:"productDetailsPage__line-bottom"}),e.jsxs("div",{className:"detailsPage__techSpecs-content",children:[e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Screen"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.screen})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Resolution"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.resolution})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Processor"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.processor})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"RAM"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.ram})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Capacity"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.capacity})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Camera"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.camera})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Zoom"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.zoom})]}),e.jsxs("div",{className:"detailsPage__techSpecs-block",children:[e.jsx("span",{className:"detailsPage__techSpecs-title",children:"Cell"}),e.jsx("span",{className:"detailsPage__techSpecs-value",children:s.cell.join(", ")})]})]})]})]}),Y=(s,l,t)=>s.filter(n=>n.category===l&&n.itemId!==t).sort(()=>.5-Math.random()),U=()=>{const{allProducts:s}=c.useContext(C),{productId:l=""}=I(),[t,n]=c.useState(null),[r,P]=c.useState([]),[h,p]=c.useState(!0),[x,o]=c.useState(""),_=L().pathname.split("/")[1];c.useEffect(()=>{p(!0),o("");const m=setTimeout(()=>{D(_).then(d=>{P(d);const j=d.find(a=>a.id===l);j?(n(j),o("")):(n(null),o("Product not found"))}).catch(d=>{o(`
            Error loading products: The product category "${_}" does not exist. ${d.name}`)}).finally(()=>{p(!1)})},500);return()=>clearTimeout(m)},[_]),c.useEffect(()=>{if(!l||!r.length)return;const m=r.find(d=>d.id===l);m?(n(m),o("")):(n(null),o("Product not found"))},[l,r]);const N=l?Y(s,_,l):[];if(h)return e.jsx("div",{className:"detailsPage",children:e.jsx(G,{})});if(x&&!h)return e.jsx("div",{className:"detailsPage",children:e.jsxs("div",{className:"detailsPage__error-message",children:[e.jsx("span",{children:x}),e.jsx(T,{to:"/",className:"detailsPage__error-link",children:"Go to HomePage"})]})});if(t)return e.jsxs("div",{className:"detailsPage",children:[e.jsx(E,{productType:_,productName:t.name}),e.jsx(R,{}),e.jsx("h2",{className:"detailsPage__title",children:t.name}),e.jsx(z,{selectedProduct:t,specificProducts:r}),e.jsx(H,{selectedProduct:t}),e.jsx("div",{className:"detailsPage__like-block",children:e.jsx(M,{title:"You may also like",products:N,displayType:"with-discount"})})]})};export{U as ProductDetailsPage};
