@use '../../../styles/variables.scss' as *;

.SliderComponent {
  &__headerContainer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 24px;
  }
  &__buttonGroup {
    display: flex;
    gap: 16px;
  }
  &__buttonContainer {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border: 1px solid $color-icons;
    cursor: pointer;
    background-color: #ffffff;
    &:hover {
      border: 1px solid $color-primary;
    }
    &__disabled {
      border: 1px solid $color-elements;
      cursor: default;
      pointer-events: none;
    }
  }

  &__itemsContainer {
    display: flex;
    gap: 16px;
  }

  &__item {
    display: flex;
    padding: 32px;
    flex-direction: column;
    width: 100%;
    max-width: 272px;
    border: 1px solid $color-elements;
    min-height: 512px; // –∞–±–æ height, —è–∫—â–æ –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≤–∂–¥–∏ –≤–ª–∞–∑–∏—Ç—å
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    background: #fff;
    &:hover {
      box-shadow: 0 2px 16px 0 rgba(0, 0, 0, 0.1);
    }
    &:hover &__imageContainer {
      transform: scale(1.1);
      transition: transform 0.3s ease-in-out;
      z-index: 10;
    }

    &__itemName {
      // min-height: 42px;
      min-height: 42px; // –∞–±–æ max-height
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      line-clamp: 2; // –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤
      -webkit-line-clamp: 2; // –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤
      -webkit-box-orient: vertical;
      @include type($body-size, $body-line, $body-track, $body-weight);
    }
    &__imageContainer {
      width: 208px;
      height: 196px;
      position: relative;
      overflow: hidden;
      margin-bottom: 24px;

      img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: contain; // üî• key line
      }
    }
    &__divider {
      width: 100%;
      height: 1px;
      background-color: #e2e6e9;
    }
    &__infoContainer {
      display: flex;
      row-gap: 8px;
      flex-direction: column;
    }
    &__priceContainer {
      display: flex;
      column-gap: 8px;
    }
    &__specContainer {
      display: flex;
      flex-direction: column;
      row-gap: 8px;
      padding: 8px 0;

      div {
        display: flex;
        justify-content: space-between;
      }
    }
    &__infoName {
      color: $color-secondary;
      @include type($small-size, $small-line, $small-track, $small-weight);
    }
    &__infoValue {
      @include type(12px, normal, 0, 700, $font-mont-semibold);
    }
    &__price {
      font-weight: 600;
      color: $color-secondary;
      text-decoration-line: line-through;
      line-height: normal;
      font-size: $h3-size;
    }
    &__fullPrice {
      @include type($h3-size, $h3-line, $h3-track, $h3-weight, $font-mont-bold);
    }

    &__buttonContainer {
      margin-top: auto;
      display: flex;
      column-gap: 8px;
    }
    &__cartButton {
      background-color: $color-primary;
      flex: 1;
      height: 40px;
      border: none;
      cursor: pointer;
      color: $color-text;
      @include type($button-size, $button-line, $button-track, $button-weight);
      &:hover {
        box-shadow: 0 3px 13px 0 rgba(23, 32, 49, 0.4);
      }

      &__added {
        color: $color-green;
        background-color: #fff;
        border: 1px solid $color-elements;
      }
    }
    &__favoriteButton {
      background: none;
      width: 40px;
      height: 40px;
      border: 1px solid $color-elements;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      &:hover {
        border: 1px solid $color-primary;
      }
    }
  }
  /* === SKELETON STYLES === */
  &__skeleton {
    // –ë–ª–æ–∫—É—î–º–æ –±—É–¥—å-—è–∫—ñ —Ö–æ–≤–µ—Ä–∏ —Ç–∞ –∫–ª—ñ–∫–∏
    pointer-events: none;
    user-select: none;
    border-color: transparent; // –ü—Ä–∏–±–∏—Ä–∞—î–º–æ –±–æ—Ä–¥–µ—Ä –∫–∞—Ä—Ç–∫–∏, —è–∫—â–æ —Ç—Ä–µ–±–∞

    // –ú—ñ–∫—Å—ñ–Ω –¥–ª—è –µ—Ñ–µ–∫—Ç—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (–∑ –≤–∞—à–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥—É)
    @mixin skeleton-bg {
      background-color: $loading-grey;
      background: linear-gradient(
          100deg,
          rgba(255, 255, 255, 0) 40%,
          rgba(255, 255, 255, 0.5) 50%,
          rgba(255, 255, 255, 0) 60%
        )
        $loading-grey;
      background-size: 200% 100%;
      background-position-x: 180%;
      animation: 1s loading ease-in-out infinite;
      color: transparent !important; // –•–æ–≤–∞—î–º–æ —Ç–µ–∫—Å—Ç
      border-color: transparent !important;
      border-radius: 4px;
    }

    // –ó–∞—Å—Ç–æ—Å–æ–≤—É—î–º–æ –µ—Ñ–µ–∫—Ç –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —á–∞—Å—Ç–∏–Ω –≤–∞—à–æ—ó –∫–∞—Ä—Ç–∫–∏

    // 1. –ö–∞—Ä—Ç–∏–Ω–∫–∞
    .SliderComponent__item__imageContainer {
      @include skeleton-bg;
      img {
        opacity: 0; // –•–æ–≤–∞—î–º–æ —ñ–∫–æ–Ω–∫—É –±–∏—Ç–æ—ó –∫–∞—Ä—Ç–∏–Ω–∫–∏
      }
    }

    // 2. –ù–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É
    .SliderComponent__item__itemName {
      @include skeleton-bg;
      height: 1.5rem; // –§—ñ–∫—Å—É—î–º–æ –≤–∏—Å–æ—Ç—É —Å–∫–µ–ª–µ—Ç–æ–Ω—É
      margin-bottom: 8px;
      display: block; // –©–æ–± —Å–ø—Ä–∞—Ü—é–≤–∞–ª–∞ –≤–∏—Å–æ—Ç–∞
    }

    // 3. –¶—ñ–Ω–∞
    .SliderComponent__item__fullPrice,
    .SliderComponent__item__price {
      @include skeleton-bg;
      display: inline-block;
      width: 60px; // –®–∏—Ä–∏–Ω–∞ –∑–∞–≥–ª—É—à–∫–∏ —Ü—ñ–Ω–∏
      height: 24px;
    }

    // 4. –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (Specs)
    .SliderComponent__item__infoName,
    .SliderComponent__item__infoValue {
      @include skeleton-bg;
      display: inline-block;
      width: 40px; // –ú–∞–ª–µ–Ω—å–∫—ñ –±–ª–æ—á–∫–∏ –¥–ª—è —Ç–µ–∫—Å—Ç—É
      height: 14px;
    }

    // –¢—Ä–æ—Ö–∏ —Ä–æ–∑—à–∏—Ä–∏–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
    .SliderComponent__item__infoValue {
      width: 60px;
    }

    // 5. –ö–Ω–æ–ø–∫–∏
    .SliderComponent__item__cartButton,
    .SliderComponent__item__favoriteButton {
      @include skeleton-bg;
      border: none;
      box-shadow: none;
      img {
        opacity: 0;
      } // –•–æ–≤–∞—î–º–æ —ñ–∫–æ–Ω–∫—É —Å–µ—Ä—Ü—è
    }
  }
}
